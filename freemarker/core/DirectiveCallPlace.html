<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="zh">
<head>
<!-- Generated by javadoc (1.8.0_112) on Sat Sep 01 15:31:21 CST 2018 -->
<title>DirectiveCallPlace</title>
<meta name="date" content="2018-09-01">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="DirectiveCallPlace";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6,"i1":6,"i2":6,"i3":6,"i4":6,"i5":6,"i6":6};
var tabs = {65535:["t0","所有方法"],2:["t2","实例方法"],4:["t3","抽象方法"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>您的浏览器已禁用 JavaScript。</div>
</noscript>
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">freemarker.core</div>
<h2 title="接口 DirectiveCallPlace" class="title">接口 DirectiveCallPlace</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public interface <span class="typeNameLabel">DirectiveCallPlace</span></pre>
<div class="block">Gives information about the place where a directive is called from, also lets you attach a custom data object to that
 place. Each directive call in a template has its own <a href="../../freemarker/core/DirectiveCallPlace.html" title="freemarker.core中的接口"><code>DirectiveCallPlace</code></a> object (even when they call the same
 directive with the same parameters). The life cycle of the <a href="../../freemarker/core/DirectiveCallPlace.html" title="freemarker.core中的接口"><code>DirectiveCallPlace</code></a> object is bound to the
 <a href="../../freemarker/template/Template.html" title="freemarker.template中的类"><code>Template</code></a> object that contains the directive call. Hence, the <a href="../../freemarker/core/DirectiveCallPlace.html" title="freemarker.core中的接口"><code>DirectiveCallPlace</code></a> object and the custom
 data you put into it is cached together with the <a href="../../freemarker/template/Template.html" title="freemarker.template中的类"><code>Template</code></a> (and templates are normally cached - see
 <a href="../../freemarker/template/Configuration.html#getTemplate-java.lang.String-"><code>Configuration.getTemplate(String)</code></a>). The custom data is normally initialized on demand, that is, when the
 directive call is first executed, via <a href="../../freemarker/core/DirectiveCallPlace.html#getOrCreateCustomData-java.lang.Object-freemarker.template.utility.ObjectFactory-"><code>getOrCreateCustomData(Object, ObjectFactory)</code></a>.
 
 <p>
 <b>Don't implement this interface yourself</b>, as new methods can be added to it any time! It's only meant to be
 implemented by the FreeMarker core.
 
 <p>
 This interface is currently only used for custom directive calls (that is, a <code>&lt;@...&gt;</code> that calls a
 <a href="../../freemarker/template/TemplateDirectiveModel.html" title="freemarker.template中的接口"><code>TemplateDirectiveModel</code></a>, <a href="../../freemarker/template/TemplateTransformModel.html" title="freemarker.template中的接口"><code>TemplateTransformModel</code></a>, or a macro).</div>
<dl>
<dt><span class="simpleTagLabel">从以下版本开始:</span></dt>
<dd>2.3.22</dd>
<dt><span class="seeLabel">另请参阅:</span></dt>
<dd><a href="../../freemarker/core/Environment.html#getCurrentDirectiveCallPlace--"><code>Environment.getCurrentDirectiveCallPlace()</code></a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>方法概要</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="方法概要表, 列表方法和解释">
<caption><span id="t0" class="activeTableTab"><span>所有方法</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">实例方法</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">抽象方法</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">限定符和类型</th>
<th class="colLast" scope="col">方法和说明</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../freemarker/core/DirectiveCallPlace.html#getBeginColumn--">getBeginColumn</a></span>()</code>
<div class="block">The 1-based column number of the first character of the directive call in the template source code, or -1 if it's
 not known.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../freemarker/core/DirectiveCallPlace.html#getBeginLine--">getBeginLine</a></span>()</code>
<div class="block">The 1-based line number of the first character of the directive call in the template source code, or -1 if it's
 not known.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../freemarker/core/DirectiveCallPlace.html#getEndColumn--">getEndColumn</a></span>()</code>
<div class="block">The 1-based column number of the last character of the directive call in the template source code, or -1 if it's
 not known.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../freemarker/core/DirectiveCallPlace.html#getEndLine--">getEndLine</a></span>()</code>
<div class="block">The 1-based line number of the last character of the directive call in the template source code, or -1 if it's
 not known.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="java.lang中的类或接口">Object</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../freemarker/core/DirectiveCallPlace.html#getOrCreateCustomData-java.lang.Object-freemarker.template.utility.ObjectFactory-">getOrCreateCustomData</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="java.lang中的类或接口">Object</a>&nbsp;providerIdentity,
                     <a href="../../freemarker/template/utility/ObjectFactory.html" title="freemarker.template.utility中的接口">ObjectFactory</a>&nbsp;objectFactory)</code>
<div class="block">Returns the custom data, or if that's <code>null</code>, then it creates and stores it in an atomic operation then
 returns it.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code><a href="../../freemarker/template/Template.html" title="freemarker.template中的类">Template</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../freemarker/core/DirectiveCallPlace.html#getTemplate--">getTemplate</a></span>()</code>
<div class="block">The template that contains this call; <code>null</code> if the call is not from a template (but directly from
 user Java code, for example).</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../freemarker/core/DirectiveCallPlace.html#isNestedOutputCacheable--">isNestedOutputCacheable</a></span>()</code>
<div class="block">Tells if the nested content (the body) can be safely cached, as it only depends on the template content (not on
 variable values and such) and has no side-effects (other than writing to the output).</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>方法详细资料</h3>
<a name="getTemplate--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTemplate</h4>
<pre><a href="../../freemarker/template/Template.html" title="freemarker.template中的类">Template</a>&nbsp;getTemplate()</pre>
<div class="block">The template that contains this call; <code>null</code> if the call is not from a template (but directly from
 user Java code, for example).</div>
<dl>
<dt><span class="simpleTagLabel">从以下版本开始:</span></dt>
<dd>2.3.28</dd>
</dl>
</li>
</ul>
<a name="getBeginColumn--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBeginColumn</h4>
<pre>int&nbsp;getBeginColumn()</pre>
<div class="block">The 1-based column number of the first character of the directive call in the template source code, or -1 if it's
 not known.</div>
</li>
</ul>
<a name="getBeginLine--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBeginLine</h4>
<pre>int&nbsp;getBeginLine()</pre>
<div class="block">The 1-based line number of the first character of the directive call in the template source code, or -1 if it's
 not known.</div>
</li>
</ul>
<a name="getEndColumn--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getEndColumn</h4>
<pre>int&nbsp;getEndColumn()</pre>
<div class="block">The 1-based column number of the last character of the directive call in the template source code, or -1 if it's
 not known. If the directive has an end-tag (<code>&lt;/@...&gt;</code>), then it points to the last character of that.</div>
</li>
</ul>
<a name="getEndLine--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getEndLine</h4>
<pre>int&nbsp;getEndLine()</pre>
<div class="block">The 1-based line number of the last character of the directive call in the template source code, or -1 if it's
 not known. If the directive has an end-tag (<code>&lt;/@...&gt;</code>), then it points to the last character of that.</div>
</li>
</ul>
<a name="getOrCreateCustomData-java.lang.Object-freemarker.template.utility.ObjectFactory-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getOrCreateCustomData</h4>
<pre><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="java.lang中的类或接口">Object</a>&nbsp;getOrCreateCustomData(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="java.lang中的类或接口">Object</a>&nbsp;providerIdentity,
                             <a href="../../freemarker/template/utility/ObjectFactory.html" title="freemarker.template.utility中的接口">ObjectFactory</a>&nbsp;objectFactory)
                      throws <a href="../../freemarker/core/CallPlaceCustomDataInitializationException.html" title="freemarker.core中的类">CallPlaceCustomDataInitializationException</a></pre>
<div class="block">Returns the custom data, or if that's <code>null</code>, then it creates and stores it in an atomic operation then
 returns it. This method is thread-safe, however, it doesn't ensure thread safe (like synchronized) access to the
 custom data itself. See the top-level documentation of <a href="../../freemarker/core/DirectiveCallPlace.html" title="freemarker.core中的接口"><code>DirectiveCallPlace</code></a> to understand the scope and
 life-cycle of the custom data. Be sure that the custom data only depends on things that get their final value
 during template parsing, not on runtime settings.
 
 <p>
 This method will block other calls while the <code>objectFactory</code> is executing, thus, the object will be
 <em>usually</em> created only once, even if multiple threads request the value when it's still <code>null</code>. It
 doesn't stand though when <code>providerIdentity</code> mismatches occur (see later). Furthermore, then it's also
 possible that multiple objects created by the same <a href="../../freemarker/template/utility/ObjectFactory.html" title="freemarker.template.utility中的接口"><code>ObjectFactory</code></a> will be in use on the same time, because
 of directive executions already running in parallel, and because of memory synchronization delays (hardware
 dependent) between the threads.</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>providerIdentity</code> - This is usually the class of the <a href="../../freemarker/template/TemplateDirectiveModel.html" title="freemarker.template中的接口"><code>TemplateDirectiveModel</code></a> that creates (and uses) the custom
            data, or if you are using your own class for the custom data object (as opposed to a class from some
            more generic API), then that class. This is needed as the same call place might calls different
            directives depending on runtime conditions, and so it must be ensured that these directives won't
            accidentally read each other's custom data, ending up with class cast exceptions or worse. In the
            current implementation, if there's a <code>providerIdentity</code> mismatch (means, the
            <code>providerIdentity</code> object used when the custom data was last set isn't the exactly same object
            as the one provided with the parameter now), the previous custom data will be just ignored as if it
            was <code>null</code>. So if multiple directives that use the custom data feature use the same call place,
            the caching of the custom data can be inefficient, as they will keep overwriting each other's custom
            data. (In a more generic implementation the <code>providerIdentity</code> would be a key in a
            <a href="../../freemarker/ext/util/IdentityHashMap.html" title="freemarker.ext.util中的类"><code>IdentityHashMap</code></a>, but then this feature would be slower, while <code>providerIdentity</code>
            mismatches aren't occurring in most applications.)</dd>
<dd><code>objectFactory</code> - Called when the custom data wasn't yet set, to create its initial value. If this parameter is
            <code>null</code> and the custom data wasn't set yet, then <code>null</code> will be returned. The returned
            value of <a href="../../freemarker/template/utility/ObjectFactory.html#createObject--"><code>ObjectFactory.createObject()</code></a> can be any kind of object, but can't be <code>null</code>.</dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd>The current custom data object, or possibly <code>null</code> if there was no <a href="../../freemarker/template/utility/ObjectFactory.html" title="freemarker.template.utility中的接口"><code>ObjectFactory</code></a> provided.</dd>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code><a href="../../freemarker/core/CallPlaceCustomDataInitializationException.html" title="freemarker.core中的类">CallPlaceCustomDataInitializationException</a></code> - If the <a href="../../freemarker/template/utility/ObjectFactory.html" title="freemarker.template.utility中的接口"><code>ObjectFactory</code></a> had to be invoked but failed.</dd>
</dl>
</li>
</ul>
<a name="isNestedOutputCacheable--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>isNestedOutputCacheable</h4>
<pre>boolean&nbsp;isNestedOutputCacheable()</pre>
<div class="block">Tells if the nested content (the body) can be safely cached, as it only depends on the template content (not on
 variable values and such) and has no side-effects (other than writing to the output). Examples of cases that give
 <code>false</code>: <code>&lt;@foo&gt;Name: </code> <tt>${name}</tt>,
 <code>&lt;@foo&gt;Name: &lt;#if showIt&gt;Joe&lt;/#if&gt;&lt;/@foo&gt;</code>. Examples of cases that give <code>true</code>:
 <code>&lt;@foo&gt;Name: Joe&lt;/@foo&gt;</code>, <code>&lt;@foo /&gt;</code>. Note that we get <code>true</code> for no nested content, because
 that's equivalent with 0-length nested content in FTL.
 
 <p>
 This method returns a pessimistic result. For example, if it sees a custom directive call, it can't know what it
 does, so it will assume that it's not cacheable.</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
</body>
</html>
