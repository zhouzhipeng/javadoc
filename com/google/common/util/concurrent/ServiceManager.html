<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="zh">
<head>
<!-- Generated by javadoc (1.8.0_112) on Sat Sep 01 15:31:29 CST 2018 -->
<title>ServiceManager</title>
<meta name="date" content="2018-09-01">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="ServiceManager";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10};
var tabs = {65535:["t0","所有方法"],2:["t2","实例方法"],8:["t4","具体方法"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>您的浏览器已禁用 JavaScript。</div>
</noscript>
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.google.common.util.concurrent</div>
<h2 title="类 ServiceManager" class="title">类 ServiceManager</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="java.lang中的类或接口">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>com.google.common.util.concurrent.ServiceManager</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre><a href="../../../../../com/google/common/annotations/Beta.html" title="com.google.common.annotations中的注释">@Beta</a>
 <a href="../../../../../com/google/common/annotations/GwtIncompatible.html" title="com.google.common.annotations中的注释">@GwtIncompatible</a>
public final class <span class="typeNameLabel">ServiceManager</span>
extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="java.lang中的类或接口">Object</a></pre>
<div class="block">A manager for monitoring and controlling a set of <a href="../../../../../com/google/common/util/concurrent/Service.html" title="com.google.common.util.concurrent中的接口">services</a>. This class
 provides methods for <a href="../../../../../com/google/common/util/concurrent/ServiceManager.html#startAsync--">starting</a>, <a href="../../../../../com/google/common/util/concurrent/ServiceManager.html#stopAsync--">stopping</a> and
 <a href="../../../../../com/google/common/util/concurrent/ServiceManager.html#servicesByState--">inspecting</a> a collection of <a href="../../../../../com/google/common/util/concurrent/Service.html" title="com.google.common.util.concurrent中的接口">services</a>.
 Additionally, users can monitor state transitions with the <a href="../../../../../com/google/common/util/concurrent/ServiceManager.Listener.html" title="com.google.common.util.concurrent中的类">listener</a>
 mechanism.

 <p>While it is recommended that service lifecycles be managed via this class, state transitions
 initiated via other mechanisms do not impact the correctness of its methods. For example, if the
 services are started by some mechanism besides <a href="../../../../../com/google/common/util/concurrent/ServiceManager.html#startAsync--"><code>startAsync()</code></a>, the listeners will be invoked
 when appropriate and <a href="../../../../../com/google/common/util/concurrent/ServiceManager.html#awaitHealthy--"><code>awaitHealthy()</code></a> will still work as expected.

 <p>Here is a simple example of how to use a <code>ServiceManager</code> to start a server.
 <pre>   <code>
 class Server {
   public static void main(String[] args) {
     Set&lt;Service&gt; services = ...;
     ServiceManager manager = new ServiceManager(services);
     manager.addListener(new Listener() {
         public void stopped() {}
         public void healthy() {
           // Services have been initialized and are healthy, start accepting requests...
         }
         public void failure(Service service) {
           // Something failed, at this point we could log it, notify a load balancer, or take
           // some other action.  For now we will just exit.
           System.exit(1);
         }
       },
       MoreExecutors.directExecutor());

     Runtime.getRuntime().addShutdownHook(new Thread() {
       public void run() {
         // Give the services 5 seconds to stop to ensure that we are responsive to shutdown
         // requests.
         try {
           manager.stopAsync().awaitStopped(5, TimeUnit.SECONDS);
         } catch (TimeoutException timeout) {
           // stopping timed out
         }
       }
     });
     manager.startAsync();  // start all the services asynchronously
   }
 }</code></pre>

 <p>This class uses the ServiceManager's methods to start all of its services, to respond to
 service failure and to ensure that when the JVM is shutting down all the services are stopped.</div>
<dl>
<dt><span class="simpleTagLabel">从以下版本开始:</span></dt>
<dd>14.0</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>嵌套类概要</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="嵌套类概要表, 列表嵌套类和解释">
<caption><span>嵌套类</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">限定符和类型</th>
<th class="colLast" scope="col">类和说明</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/google/common/util/concurrent/ServiceManager.Listener.html" title="com.google.common.util.concurrent中的类">ServiceManager.Listener</a></span></code>
<div class="block">A listener for the aggregate state changes of the services that are under management.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>构造器概要</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="构造器概要表, 列表构造器和解释">
<caption><span>构造器</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">构造器和说明</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../com/google/common/util/concurrent/ServiceManager.html#ServiceManager-java.lang.Iterable-">ServiceManager</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html?is-external=true" title="java.lang中的类或接口">Iterable</a>&lt;? extends <a href="../../../../../com/google/common/util/concurrent/Service.html" title="com.google.common.util.concurrent中的接口">Service</a>&gt;&nbsp;services)</code>
<div class="block">Constructs a new instance for managing the given services.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>方法概要</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="方法概要表, 列表方法和解释">
<caption><span id="t0" class="activeTableTab"><span>所有方法</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">实例方法</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">具体方法</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">限定符和类型</th>
<th class="colLast" scope="col">方法和说明</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/google/common/util/concurrent/ServiceManager.html#addListener-com.google.common.util.concurrent.ServiceManager.Listener-">addListener</a></span>(<a href="../../../../../com/google/common/util/concurrent/ServiceManager.Listener.html" title="com.google.common.util.concurrent中的类">ServiceManager.Listener</a>&nbsp;listener)</code>
<div class="block">Registers a <a href="../../../../../com/google/common/util/concurrent/ServiceManager.Listener.html" title="com.google.common.util.concurrent中的类"><code>ServiceManager.Listener</code></a> to be run when this <a href="../../../../../com/google/common/util/concurrent/ServiceManager.html" title="com.google.common.util.concurrent中的类"><code>ServiceManager</code></a> changes state.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/google/common/util/concurrent/ServiceManager.html#addListener-com.google.common.util.concurrent.ServiceManager.Listener-java.util.concurrent.Executor-">addListener</a></span>(<a href="../../../../../com/google/common/util/concurrent/ServiceManager.Listener.html" title="com.google.common.util.concurrent中的类">ServiceManager.Listener</a>&nbsp;listener,
           <a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Executor.html?is-external=true" title="java.util.concurrent中的类或接口">Executor</a>&nbsp;executor)</code>
<div class="block">Registers a <a href="../../../../../com/google/common/util/concurrent/ServiceManager.Listener.html" title="com.google.common.util.concurrent中的类"><code>ServiceManager.Listener</code></a> to be <a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Executor.html?is-external=true#execute-java.lang.Runnable-" title="java.util.concurrent中的类或接口">executed</a> on the given
 executor.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/google/common/util/concurrent/ServiceManager.html#awaitHealthy--">awaitHealthy</a></span>()</code>
<div class="block">Waits for the <a href="../../../../../com/google/common/util/concurrent/ServiceManager.html" title="com.google.common.util.concurrent中的类"><code>ServiceManager</code></a> to become <a href="../../../../../com/google/common/util/concurrent/ServiceManager.html#isHealthy--">healthy</a>.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/google/common/util/concurrent/ServiceManager.html#awaitHealthy-long-java.util.concurrent.TimeUnit-">awaitHealthy</a></span>(long&nbsp;timeout,
            <a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/TimeUnit.html?is-external=true" title="java.util.concurrent中的类或接口">TimeUnit</a>&nbsp;unit)</code>
<div class="block">Waits for the <a href="../../../../../com/google/common/util/concurrent/ServiceManager.html" title="com.google.common.util.concurrent中的类"><code>ServiceManager</code></a> to become <a href="../../../../../com/google/common/util/concurrent/ServiceManager.html#isHealthy--">healthy</a> for no more
 than the given time.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/google/common/util/concurrent/ServiceManager.html#awaitStopped--">awaitStopped</a></span>()</code>
<div class="block">Waits for the all the services to reach a terminal state.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/google/common/util/concurrent/ServiceManager.html#awaitStopped-long-java.util.concurrent.TimeUnit-">awaitStopped</a></span>(long&nbsp;timeout,
            <a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/TimeUnit.html?is-external=true" title="java.util.concurrent中的类或接口">TimeUnit</a>&nbsp;unit)</code>
<div class="block">Waits for the all the services to reach a terminal state for no more than the given time.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/google/common/util/concurrent/ServiceManager.html#isHealthy--">isHealthy</a></span>()</code>
<div class="block">Returns true if all services are currently in the <a href="../../../../../com/google/common/util/concurrent/Service.State.html#RUNNING">running</a> state.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code><a href="../../../../../com/google/common/collect/ImmutableMultimap.html" title="com.google.common.collect中的类">ImmutableMultimap</a>&lt;<a href="../../../../../com/google/common/util/concurrent/Service.State.html" title="com.google.common.util.concurrent中的枚举">Service.State</a>,<a href="../../../../../com/google/common/util/concurrent/Service.html" title="com.google.common.util.concurrent中的接口">Service</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/google/common/util/concurrent/ServiceManager.html#servicesByState--">servicesByState</a></span>()</code>
<div class="block">Provides a snapshot of the current state of all the services under management.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code><a href="../../../../../com/google/common/util/concurrent/ServiceManager.html" title="com.google.common.util.concurrent中的类">ServiceManager</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/google/common/util/concurrent/ServiceManager.html#startAsync--">startAsync</a></span>()</code>
<div class="block">Initiates service <a href="../../../../../com/google/common/util/concurrent/Service.html#startAsync--">startup</a> on all the services being managed.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code><a href="../../../../../com/google/common/collect/ImmutableMap.html" title="com.google.common.collect中的类">ImmutableMap</a>&lt;<a href="../../../../../com/google/common/util/concurrent/Service.html" title="com.google.common.util.concurrent中的接口">Service</a>,<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Long.html?is-external=true" title="java.lang中的类或接口">Long</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/google/common/util/concurrent/ServiceManager.html#startupTimes--">startupTimes</a></span>()</code>
<div class="block">Returns the service load times.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code><a href="../../../../../com/google/common/util/concurrent/ServiceManager.html" title="com.google.common.util.concurrent中的类">ServiceManager</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/google/common/util/concurrent/ServiceManager.html#stopAsync--">stopAsync</a></span>()</code>
<div class="block">Initiates service <a href="../../../../../com/google/common/util/concurrent/Service.html#stopAsync--">shutdown</a> if necessary on all the services
 being managed.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/google/common/util/concurrent/ServiceManager.html#toString--">toString</a></span>()</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>从类继承的方法&nbsp;java.lang.<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="java.lang中的类或接口">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#clone--" title="java.lang中的类或接口">clone</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="java.lang中的类或接口">equals</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize--" title="java.lang中的类或接口">finalize</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass--" title="java.lang中的类或接口">getClass</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="java.lang中的类或接口">hashCode</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify--" title="java.lang中的类或接口">notify</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="java.lang中的类或接口">notifyAll</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait--" title="java.lang中的类或接口">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="java.lang中的类或接口">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="java.lang中的类或接口">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>构造器详细资料</h3>
<a name="ServiceManager-java.lang.Iterable-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ServiceManager</h4>
<pre>public&nbsp;ServiceManager(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html?is-external=true" title="java.lang中的类或接口">Iterable</a>&lt;? extends <a href="../../../../../com/google/common/util/concurrent/Service.html" title="com.google.common.util.concurrent中的接口">Service</a>&gt;&nbsp;services)</pre>
<div class="block">Constructs a new instance for managing the given services.</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>services</code> - The services to manage</dd>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="java.lang中的类或接口">IllegalArgumentException</a></code> - if not all services are <a href="../../../../../com/google/common/util/concurrent/Service.State.html#NEW">new</a> or if there
     are any duplicate services.</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>方法详细资料</h3>
<a name="addListener-com.google.common.util.concurrent.ServiceManager.Listener-java.util.concurrent.Executor-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addListener</h4>
<pre>public&nbsp;void&nbsp;addListener(<a href="../../../../../com/google/common/util/concurrent/ServiceManager.Listener.html" title="com.google.common.util.concurrent中的类">ServiceManager.Listener</a>&nbsp;listener,
                        <a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Executor.html?is-external=true" title="java.util.concurrent中的类或接口">Executor</a>&nbsp;executor)</pre>
<div class="block">Registers a <a href="../../../../../com/google/common/util/concurrent/ServiceManager.Listener.html" title="com.google.common.util.concurrent中的类"><code>ServiceManager.Listener</code></a> to be <a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Executor.html?is-external=true#execute-java.lang.Runnable-" title="java.util.concurrent中的类或接口">executed</a> on the given
 executor. The listener will not have previous state changes replayed, so it is suggested that
 listeners are added before any of the managed services are <a href="../../../../../com/google/common/util/concurrent/Service.html#startAsync--">started</a>.

 <p><code>addListener</code> guarantees execution ordering across calls to a given listener but not
 across calls to multiple listeners. Specifically, a given listener will have its callbacks
 invoked in the same order as the underlying service enters those states. Additionally, at most
 one of the listener's callbacks will execute at once. However, multiple listeners' callbacks
 may execute concurrently, and listeners may execute in an order different from the one in which
 they were registered.

 <p>RuntimeExceptions thrown by a listener will be caught and logged. Any exception thrown
 during <code>Executor.execute</code> (e.g., a <code>RejectedExecutionException</code>) will be caught and
 logged.

 <p>For fast, lightweight listeners that would be safe to execute in any thread, consider
 calling <a href="../../../../../com/google/common/util/concurrent/ServiceManager.html#addListener-com.google.common.util.concurrent.ServiceManager.Listener-"><code>addListener(Listener)</code></a>.</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>listener</code> - the listener to run when the manager changes state</dd>
<dd><code>executor</code> - the executor in which the listeners callback methods will be run.</dd>
</dl>
</li>
</ul>
<a name="addListener-com.google.common.util.concurrent.ServiceManager.Listener-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addListener</h4>
<pre>public&nbsp;void&nbsp;addListener(<a href="../../../../../com/google/common/util/concurrent/ServiceManager.Listener.html" title="com.google.common.util.concurrent中的类">ServiceManager.Listener</a>&nbsp;listener)</pre>
<div class="block">Registers a <a href="../../../../../com/google/common/util/concurrent/ServiceManager.Listener.html" title="com.google.common.util.concurrent中的类"><code>ServiceManager.Listener</code></a> to be run when this <a href="../../../../../com/google/common/util/concurrent/ServiceManager.html" title="com.google.common.util.concurrent中的类"><code>ServiceManager</code></a> changes state. The
 listener will not have previous state changes replayed, so it is suggested that listeners are
 added before any of the managed services are <a href="../../../../../com/google/common/util/concurrent/Service.html#startAsync--">started</a>.

 <p><code>addListener</code> guarantees execution ordering across calls to a given listener but not
 across calls to multiple listeners. Specifically, a given listener will have its callbacks
 invoked in the same order as the underlying service enters those states. Additionally, at most
 one of the listener's callbacks will execute at once. However, multiple listeners' callbacks
 may execute concurrently, and listeners may execute in an order different from the one in which
 they were registered.

 <p>RuntimeExceptions thrown by a listener will be caught and logged.</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>listener</code> - the listener to run when the manager changes state</dd>
</dl>
</li>
</ul>
<a name="startAsync--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>startAsync</h4>
<pre>public&nbsp;<a href="../../../../../com/google/common/util/concurrent/ServiceManager.html" title="com.google.common.util.concurrent中的类">ServiceManager</a>&nbsp;startAsync()</pre>
<div class="block">Initiates service <a href="../../../../../com/google/common/util/concurrent/Service.html#startAsync--">startup</a> on all the services being managed. It
 is only valid to call this method if all of the services are <a href="../../../../../com/google/common/util/concurrent/Service.State.html#NEW">new</a>.</div>
<dl>
<dt><span class="returnLabel">返回:</span></dt>
<dd>this</dd>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html?is-external=true" title="java.lang中的类或接口">IllegalStateException</a></code> - if any of the Services are not <a href="../../../../../com/google/common/util/concurrent/Service.State.html#NEW"><code>new</code></a> when the
     method is called.</dd>
</dl>
</li>
</ul>
<a name="awaitHealthy--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>awaitHealthy</h4>
<pre>public&nbsp;void&nbsp;awaitHealthy()</pre>
<div class="block">Waits for the <a href="../../../../../com/google/common/util/concurrent/ServiceManager.html" title="com.google.common.util.concurrent中的类"><code>ServiceManager</code></a> to become <a href="../../../../../com/google/common/util/concurrent/ServiceManager.html#isHealthy--">healthy</a>. The manager
 will become healthy after all the component services have reached the <a href="../../../../../com/google/common/util/concurrent/Service.State.html#RUNNING">running</a> state.</div>
<dl>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html?is-external=true" title="java.lang中的类或接口">IllegalStateException</a></code> - if the service manager reaches a state from which it cannot
     become <a href="../../../../../com/google/common/util/concurrent/ServiceManager.html#isHealthy--">healthy</a>.</dd>
</dl>
</li>
</ul>
<a name="awaitHealthy-long-java.util.concurrent.TimeUnit-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>awaitHealthy</h4>
<pre>public&nbsp;void&nbsp;awaitHealthy(long&nbsp;timeout,
                         <a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/TimeUnit.html?is-external=true" title="java.util.concurrent中的类或接口">TimeUnit</a>&nbsp;unit)
                  throws <a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/TimeoutException.html?is-external=true" title="java.util.concurrent中的类或接口">TimeoutException</a></pre>
<div class="block">Waits for the <a href="../../../../../com/google/common/util/concurrent/ServiceManager.html" title="com.google.common.util.concurrent中的类"><code>ServiceManager</code></a> to become <a href="../../../../../com/google/common/util/concurrent/ServiceManager.html#isHealthy--">healthy</a> for no more
 than the given time. The manager will become healthy after all the component services have
 reached the <a href="../../../../../com/google/common/util/concurrent/Service.State.html#RUNNING">running</a> state.</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>timeout</code> - the maximum time to wait</dd>
<dd><code>unit</code> - the time unit of the timeout argument</dd>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/TimeoutException.html?is-external=true" title="java.util.concurrent中的类或接口">TimeoutException</a></code> - if not all of the services have finished starting within the deadline</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html?is-external=true" title="java.lang中的类或接口">IllegalStateException</a></code> - if the service manager reaches a state from which it cannot
     become <a href="../../../../../com/google/common/util/concurrent/ServiceManager.html#isHealthy--">healthy</a>.</dd>
</dl>
</li>
</ul>
<a name="stopAsync--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>stopAsync</h4>
<pre>public&nbsp;<a href="../../../../../com/google/common/util/concurrent/ServiceManager.html" title="com.google.common.util.concurrent中的类">ServiceManager</a>&nbsp;stopAsync()</pre>
<div class="block">Initiates service <a href="../../../../../com/google/common/util/concurrent/Service.html#stopAsync--">shutdown</a> if necessary on all the services
 being managed.</div>
<dl>
<dt><span class="returnLabel">返回:</span></dt>
<dd>this</dd>
</dl>
</li>
</ul>
<a name="awaitStopped--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>awaitStopped</h4>
<pre>public&nbsp;void&nbsp;awaitStopped()</pre>
<div class="block">Waits for the all the services to reach a terminal state. After this method returns all
 services will either be <a href="../../../../../com/google/common/util/concurrent/Service.State.html#TERMINATED">terminated</a> or
 <a href="../../../../../com/google/common/util/concurrent/Service.State.html#FAILED">failed</a>.</div>
</li>
</ul>
<a name="awaitStopped-long-java.util.concurrent.TimeUnit-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>awaitStopped</h4>
<pre>public&nbsp;void&nbsp;awaitStopped(long&nbsp;timeout,
                         <a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/TimeUnit.html?is-external=true" title="java.util.concurrent中的类或接口">TimeUnit</a>&nbsp;unit)
                  throws <a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/TimeoutException.html?is-external=true" title="java.util.concurrent中的类或接口">TimeoutException</a></pre>
<div class="block">Waits for the all the services to reach a terminal state for no more than the given time. After
 this method returns all services will either be <a href="../../../../../com/google/common/util/concurrent/Service.State.html#TERMINATED">terminated</a> or <a href="../../../../../com/google/common/util/concurrent/Service.State.html#FAILED">failed</a>.</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>timeout</code> - the maximum time to wait</dd>
<dd><code>unit</code> - the time unit of the timeout argument</dd>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/TimeoutException.html?is-external=true" title="java.util.concurrent中的类或接口">TimeoutException</a></code> - if not all of the services have stopped within the deadline</dd>
</dl>
</li>
</ul>
<a name="isHealthy--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isHealthy</h4>
<pre>public&nbsp;boolean&nbsp;isHealthy()</pre>
<div class="block">Returns true if all services are currently in the <a href="../../../../../com/google/common/util/concurrent/Service.State.html#RUNNING">running</a> state.

 <p>Users who want more detailed information should use the <a href="../../../../../com/google/common/util/concurrent/ServiceManager.html#servicesByState--"><code>servicesByState()</code></a> method to
 get detailed information about which services are not running.</div>
</li>
</ul>
<a name="servicesByState--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>servicesByState</h4>
<pre>public&nbsp;<a href="../../../../../com/google/common/collect/ImmutableMultimap.html" title="com.google.common.collect中的类">ImmutableMultimap</a>&lt;<a href="../../../../../com/google/common/util/concurrent/Service.State.html" title="com.google.common.util.concurrent中的枚举">Service.State</a>,<a href="../../../../../com/google/common/util/concurrent/Service.html" title="com.google.common.util.concurrent中的接口">Service</a>&gt;&nbsp;servicesByState()</pre>
<div class="block">Provides a snapshot of the current state of all the services under management.

 <p>N.B. This snapshot is guaranteed to be consistent, i.e. the set of states returned will
 correspond to a point in time view of the services.</div>
</li>
</ul>
<a name="startupTimes--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>startupTimes</h4>
<pre>public&nbsp;<a href="../../../../../com/google/common/collect/ImmutableMap.html" title="com.google.common.collect中的类">ImmutableMap</a>&lt;<a href="../../../../../com/google/common/util/concurrent/Service.html" title="com.google.common.util.concurrent中的接口">Service</a>,<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Long.html?is-external=true" title="java.lang中的类或接口">Long</a>&gt;&nbsp;startupTimes()</pre>
<div class="block">Returns the service load times. This value will only return startup times for services that
 have finished starting.</div>
<dl>
<dt><span class="returnLabel">返回:</span></dt>
<dd>Map of services and their corresponding startup time in millis, the map entries will be
     ordered by startup time.</dd>
</dl>
</li>
</ul>
<a name="toString--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>toString</h4>
<pre>public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a>&nbsp;toString()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">覆盖:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString--" title="java.lang中的类或接口">toString</a></code>&nbsp;在类中&nbsp;<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="java.lang中的类或接口">Object</a></code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
</body>
</html>
