<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="zh">
<head>
<!-- Generated by javadoc (1.8.0_112) on Sat Sep 01 15:31:00 CST 2018 -->
<title>HashFunction</title>
<meta name="date" content="2018-09-01">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="HashFunction";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6,"i1":6,"i2":6,"i3":6,"i4":6,"i5":6,"i6":6,"i7":6,"i8":6,"i9":6};
var tabs = {65535:["t0","所有方法"],2:["t2","实例方法"],4:["t3","抽象方法"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>您的浏览器已禁用 JavaScript。</div>
</noscript>
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.google.common.hash</div>
<h2 title="接口 HashFunction" class="title">接口 HashFunction</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre><a href="../../../../com/google/common/annotations/Beta.html" title="com.google.common.annotations中的注释">@Beta</a>
public interface <span class="typeNameLabel">HashFunction</span></pre>
<div class="block">A hash function is a collision-averse pure function that maps an arbitrary block of data to a
 number called a <i>hash code</i>.

 <h3>Definition</h3>

 <p>Unpacking this definition:

 <ul>
 <li><b>block of data:</b> the input for a hash function is always, in concept, an ordered byte
     array. This hashing API accepts an arbitrary sequence of byte and multibyte values (via
     <a href="../../../../com/google/common/hash/Hasher.html" title="com.google.common.hash中的接口"><code>Hasher</code></a>), but this is merely a convenience; these are always translated into raw byte
     sequences under the covers.

 <li><b>hash code:</b> each hash function always yields hash codes of the same fixed bit length
     (given by <a href="../../../../com/google/common/hash/HashFunction.html#bits--"><code>bits()</code></a>). For example, <a href="../../../../com/google/common/hash/Hashing.html#sha1--"><code>Hashing.sha1()</code></a> produces a 160-bit number, while
     <a href="../../../../com/google/common/hash/Hashing.html#murmur3_32--"><code>Hashing.murmur3_32()</code></a> yields only 32 bits. Because a <code>long</code> value is clearly
     insufficient to hold all hash code values, this API represents a hash code as an instance of
     <a href="../../../../com/google/common/hash/HashCode.html" title="com.google.common.hash中的类"><code>HashCode</code></a>.

 <li><b>pure function:</b> the value produced must depend only on the input bytes, in the order
     they appear. Input data is never modified. <a href="../../../../com/google/common/hash/HashFunction.html" title="com.google.common.hash中的接口"><code>HashFunction</code></a> instances should always be
     stateless, and therefore thread-safe.

 <li><b>collision-averse:</b> while it can't be helped that a hash function will sometimes produce
     the same hash code for distinct inputs (a "collision"), every hash function strives to
     <i>some</i> degree to make this unlikely. (Without this condition, a function that always
     returns zero could be called a hash function. It is not.)
 </ul>

 <p>Summarizing the last two points: "equal yield equal <i>always</i>; unequal yield unequal
 <i>often</i>." This is the most important characteristic of all hash functions.

 <h3>Desirable properties</h3>

 <p>A high-quality hash function strives for some subset of the following virtues:

 <ul>
 <li><b>collision-resistant:</b> while the definition above requires making at least <i>some</i>
     token attempt, one measure of the quality of a hash function is <i>how well</i> it succeeds
     at this goal. Important note: it may be easy to achieve the theoretical minimum collision
     rate when using completely <i>random</i> sample input. The true test of a hash function is
     how it performs on representative real-world data, which tends to contain many hidden
     patterns and clumps. The goal of a good hash function is to stamp these patterns out as
     thoroughly as possible.

 <li><b>bit-dispersing:</b> masking out any <i>single bit</i> from a hash code should yield only
     the expected <i>twofold</i> increase to all collision rates. Informally, the "information" in
     the hash code should be as evenly "spread out" through the hash code's bits as possible. The
     result is that, for example, when choosing a bucket in a hash table of size 2^8, <i>any</i>
     eight bits could be consistently used.

 <li><b>cryptographic:</b> certain hash functions such as <a href="../../../../com/google/common/hash/Hashing.html#sha512--"><code>Hashing.sha512()</code></a> are designed to
     make it as infeasible as possible to reverse-engineer the input that produced a given hash
     code, or even to discover <i>any</i> two distinct inputs that yield the same result. These
     are called <i>cryptographic hash functions</i>. But, whenever it is learned that either of
     these feats has become computationally feasible, the function is deemed "broken" and should
     no longer be used for secure purposes. (This is the likely eventual fate of <i>all</i>
     cryptographic hashes.)

 <li><b>fast:</b> perhaps self-explanatory, but often the most important consideration. We have
     published <a href="#noWeHaventYet">microbenchmark results</a> for many common hash functions.
 </ul>

 <h3>Providing input to a hash function</h3>

 <p>The primary way to provide the data that your hash function should act on is via a
 <a href="../../../../com/google/common/hash/Hasher.html" title="com.google.common.hash中的接口"><code>Hasher</code></a>. Obtain a new hasher from the hash function using <a href="../../../../com/google/common/hash/HashFunction.html#newHasher--"><code>newHasher()</code></a>, "push" the
 relevant data into it using methods like <a href="../../../../com/google/common/hash/Hasher.html#putBytes-byte:A-"><code>Hasher.putBytes(byte[])</code></a>, and finally ask for the
 <code>HashCode</code> when finished using <a href="../../../../com/google/common/hash/Hasher.html#hash--"><code>Hasher.hash()</code></a>. (See an <a href="../../../../com/google/common/hash/HashFunction.html#newHasher--">example</a>
 of this.)

 <p>If all you want to hash is a single byte array, string or <code>long</code> value, there are
 convenient shortcut methods defined directly on <a href="../../../../com/google/common/hash/HashFunction.html" title="com.google.common.hash中的接口"><code>HashFunction</code></a> to make this easier.

 <p>Hasher accepts primitive data types, but can also accept any Object of type <code>T</code> provided that you implement a <a href="../../../../com/google/common/hash/Funnel.html" title="com.google.common.hash中的接口"><code>Funnel</code></a><code>&lt;T&gt;</code> to specify how to "feed" data from
 that object into the function. (See <a href="../../../../com/google/common/hash/Hasher.html#putObject-T-com.google.common.hash.Funnel-">an example</a> of this.)

 <p><b>Compatibility note:</b> Throughout this API, multibyte values are always interpreted in
 <i>little-endian</i> order. That is, hashing the byte array <code>{0x01, 0x02, 0x03, 0x04}</code> is
 equivalent to hashing the <code>int</code> value <code>0x04030201</code>. If this isn't what you need,
 methods such as <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html?is-external=true#reverseBytes-int-" title="java.lang中的类或接口"><code>Integer.reverseBytes(int)</code></a> and <a href="../../../../com/google/common/primitives/Ints.html#toByteArray-int-"><code>Ints.toByteArray(int)</code></a> will help.

 <h3>Relationship to <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="java.lang中的类或接口"><code>Object.hashCode()</code></a></h3>

 <p>Java's baked-in concept of hash codes is constrained to 32 bits, and provides no separation
 between hash algorithms and the data they act on, so alternate hash algorithms can't be easily
 substituted. Also, implementations of <code>hashCode</code> tend to be poor-quality, in part because
 they end up depending on <i>other</i> existing poor-quality <code>hashCode</code> implementations,
 including those in many JDK classes.

 <p><code>Object.hashCode</code> implementations tend to be very fast, but have weak collision
 prevention and <i>no</i> expectation of bit dispersion. This leaves them perfectly suitable for
 use in hash tables, because extra collisions cause only a slight performance hit, while poor bit
 dispersion is easily corrected using a secondary hash function (which all reasonable hash table
 implementations in Java use). For the many uses of hash functions beyond data structures,
 however, <code>Object.hashCode</code> almost always falls short -- hence this library.</div>
<dl>
<dt><span class="simpleTagLabel">从以下版本开始:</span></dt>
<dd>11.0</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>方法概要</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="方法概要表, 列表方法和解释">
<caption><span id="t0" class="activeTableTab"><span>所有方法</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">实例方法</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">抽象方法</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">限定符和类型</th>
<th class="colLast" scope="col">方法和说明</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/google/common/hash/HashFunction.html#bits--">bits</a></span>()</code>
<div class="block">Returns the number of bits (a multiple of 32) that each hash code produced by this hash
 function has.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="../../../../com/google/common/hash/HashCode.html" title="com.google.common.hash中的类">HashCode</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/google/common/hash/HashFunction.html#hashBytes-byte:A-">hashBytes</a></span>(byte[]&nbsp;input)</code>
<div class="block">Shortcut for <code>newHasher().putBytes(input).hash()</code>.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="../../../../com/google/common/hash/HashCode.html" title="com.google.common.hash中的类">HashCode</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/google/common/hash/HashFunction.html#hashBytes-byte:A-int-int-">hashBytes</a></span>(byte[]&nbsp;input,
         int&nbsp;off,
         int&nbsp;len)</code>
<div class="block">Shortcut for <code>newHasher().putBytes(input, off, len).hash()</code>.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code><a href="../../../../com/google/common/hash/HashCode.html" title="com.google.common.hash中的类">HashCode</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/google/common/hash/HashFunction.html#hashInt-int-">hashInt</a></span>(int&nbsp;input)</code>
<div class="block">Shortcut for <code>newHasher().putInt(input).hash()</code>; returns the hash code for the given
 <code>int</code> value, interpreted in little-endian byte order.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code><a href="../../../../com/google/common/hash/HashCode.html" title="com.google.common.hash中的类">HashCode</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/google/common/hash/HashFunction.html#hashLong-long-">hashLong</a></span>(long&nbsp;input)</code>
<div class="block">Shortcut for <code>newHasher().putLong(input).hash()</code>; returns the hash code for the given
 <code>long</code> value, interpreted in little-endian byte order.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>&lt;T&gt;&nbsp;<a href="../../../../com/google/common/hash/HashCode.html" title="com.google.common.hash中的类">HashCode</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/google/common/hash/HashFunction.html#hashObject-T-com.google.common.hash.Funnel-">hashObject</a></span>(T&nbsp;instance,
          <a href="../../../../com/google/common/hash/Funnel.html" title="com.google.common.hash中的接口">Funnel</a>&lt;? super T&gt;&nbsp;funnel)</code>
<div class="block">Shortcut for <code>newHasher().putObject(instance, funnel).hash()</code>.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code><a href="../../../../com/google/common/hash/HashCode.html" title="com.google.common.hash中的类">HashCode</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/google/common/hash/HashFunction.html#hashString-java.lang.CharSequence-java.nio.charset.Charset-">hashString</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/CharSequence.html?is-external=true" title="java.lang中的类或接口">CharSequence</a>&nbsp;input,
          <a href="https://docs.oracle.com/javase/8/docs/api/java/nio/charset/Charset.html?is-external=true" title="java.nio.charset中的类或接口">Charset</a>&nbsp;charset)</code>
<div class="block">Shortcut for <code>newHasher().putString(input, charset).hash()</code>.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code><a href="../../../../com/google/common/hash/HashCode.html" title="com.google.common.hash中的类">HashCode</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/google/common/hash/HashFunction.html#hashUnencodedChars-java.lang.CharSequence-">hashUnencodedChars</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/CharSequence.html?is-external=true" title="java.lang中的类或接口">CharSequence</a>&nbsp;input)</code>
<div class="block">Shortcut for <code>newHasher().putUnencodedChars(input).hash()</code>.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code><a href="../../../../com/google/common/hash/Hasher.html" title="com.google.common.hash中的接口">Hasher</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/google/common/hash/HashFunction.html#newHasher--">newHasher</a></span>()</code>
<div class="block">Begins a new hash code computation by returning an initialized, stateful <code>Hasher</code> instance that is ready to receive data.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code><a href="../../../../com/google/common/hash/Hasher.html" title="com.google.common.hash中的接口">Hasher</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/google/common/hash/HashFunction.html#newHasher-int-">newHasher</a></span>(int&nbsp;expectedInputSize)</code>
<div class="block">Begins a new hash code computation as <a href="../../../../com/google/common/hash/HashFunction.html#newHasher--"><code>newHasher()</code></a>, but provides a hint of the expected
 size of the input (in bytes).</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>方法详细资料</h3>
<a name="newHasher--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newHasher</h4>
<pre><a href="../../../../com/google/common/hash/Hasher.html" title="com.google.common.hash中的接口">Hasher</a>&nbsp;newHasher()</pre>
<div class="block">Begins a new hash code computation by returning an initialized, stateful <code>Hasher</code> instance that is ready to receive data. Example: <pre>   <code>

   HashFunction hf = Hashing.md5();
   HashCode hc = hf.newHasher()
       .putLong(id)
       .putBoolean(isActive)
       .hash();</code></pre></div>
</li>
</ul>
<a name="newHasher-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newHasher</h4>
<pre><a href="../../../../com/google/common/hash/Hasher.html" title="com.google.common.hash中的接口">Hasher</a>&nbsp;newHasher(int&nbsp;expectedInputSize)</pre>
<div class="block">Begins a new hash code computation as <a href="../../../../com/google/common/hash/HashFunction.html#newHasher--"><code>newHasher()</code></a>, but provides a hint of the expected
 size of the input (in bytes). This is only important for non-streaming hash functions (hash
 functions that need to buffer their whole input before processing any of it).</div>
</li>
</ul>
<a name="hashInt-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hashInt</h4>
<pre><a href="../../../../com/google/common/hash/HashCode.html" title="com.google.common.hash中的类">HashCode</a>&nbsp;hashInt(int&nbsp;input)</pre>
<div class="block">Shortcut for <code>newHasher().putInt(input).hash()</code>; returns the hash code for the given
 <code>int</code> value, interpreted in little-endian byte order. The implementation <i>might</i>
 perform better than its longhand equivalent, but should not perform worse.</div>
<dl>
<dt><span class="simpleTagLabel">从以下版本开始:</span></dt>
<dd>12.0</dd>
</dl>
</li>
</ul>
<a name="hashLong-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hashLong</h4>
<pre><a href="../../../../com/google/common/hash/HashCode.html" title="com.google.common.hash中的类">HashCode</a>&nbsp;hashLong(long&nbsp;input)</pre>
<div class="block">Shortcut for <code>newHasher().putLong(input).hash()</code>; returns the hash code for the given
 <code>long</code> value, interpreted in little-endian byte order. The implementation <i>might</i>
 perform better than its longhand equivalent, but should not perform worse.</div>
</li>
</ul>
<a name="hashBytes-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hashBytes</h4>
<pre><a href="../../../../com/google/common/hash/HashCode.html" title="com.google.common.hash中的类">HashCode</a>&nbsp;hashBytes(byte[]&nbsp;input)</pre>
<div class="block">Shortcut for <code>newHasher().putBytes(input).hash()</code>. The implementation <i>might</i>
 perform better than its longhand equivalent, but should not perform worse.</div>
</li>
</ul>
<a name="hashBytes-byte:A-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hashBytes</h4>
<pre><a href="../../../../com/google/common/hash/HashCode.html" title="com.google.common.hash中的类">HashCode</a>&nbsp;hashBytes(byte[]&nbsp;input,
                   int&nbsp;off,
                   int&nbsp;len)</pre>
<div class="block">Shortcut for <code>newHasher().putBytes(input, off, len).hash()</code>. The implementation
 <i>might</i> perform better than its longhand equivalent, but should not perform worse.</div>
<dl>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IndexOutOfBoundsException.html?is-external=true" title="java.lang中的类或接口">IndexOutOfBoundsException</a></code> - if <code>off &lt; 0</code> or <code>off + len &gt; bytes.length</code> or
     <code>len &lt; 0</code></dd>
</dl>
</li>
</ul>
<a name="hashUnencodedChars-java.lang.CharSequence-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hashUnencodedChars</h4>
<pre><a href="../../../../com/google/common/hash/HashCode.html" title="com.google.common.hash中的类">HashCode</a>&nbsp;hashUnencodedChars(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/CharSequence.html?is-external=true" title="java.lang中的类或接口">CharSequence</a>&nbsp;input)</pre>
<div class="block">Shortcut for <code>newHasher().putUnencodedChars(input).hash()</code>. The implementation
 <i>might</i> perform better than its longhand equivalent, but should not perform worse. Note
 that no character encoding is performed; the low byte and high byte of each <code>char</code> are
 hashed directly (in that order).

 <p><b>Warning:</b> This method will produce different output than most other languages do when
 running the same hash function on the equivalent input. For cross-language compatibility, use
 <a href="../../../../com/google/common/hash/HashFunction.html#hashString-java.lang.CharSequence-java.nio.charset.Charset-"><code>hashString(java.lang.CharSequence, java.nio.charset.Charset)</code></a>, usually with a charset of UTF-8. For other use cases, use <code>hashUnencodedChars</code>.</div>
<dl>
<dt><span class="simpleTagLabel">从以下版本开始:</span></dt>
<dd>15.0 (since 11.0 as hashString(CharSequence)).</dd>
</dl>
</li>
</ul>
<a name="hashString-java.lang.CharSequence-java.nio.charset.Charset-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hashString</h4>
<pre><a href="../../../../com/google/common/hash/HashCode.html" title="com.google.common.hash中的类">HashCode</a>&nbsp;hashString(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/CharSequence.html?is-external=true" title="java.lang中的类或接口">CharSequence</a>&nbsp;input,
                    <a href="https://docs.oracle.com/javase/8/docs/api/java/nio/charset/Charset.html?is-external=true" title="java.nio.charset中的类或接口">Charset</a>&nbsp;charset)</pre>
<div class="block">Shortcut for <code>newHasher().putString(input, charset).hash()</code>. Characters are encoded using
 the given <a href="https://docs.oracle.com/javase/8/docs/api/java/nio/charset/Charset.html?is-external=true" title="java.nio.charset中的类或接口"><code>Charset</code></a>. The implementation <i>might</i> perform better than its longhand
 equivalent, but should not perform worse.

 <p><b>Warning:</b> This method, which reencodes the input before hashing it, is useful only for
 cross-language compatibility. For other use cases, prefer <a href="../../../../com/google/common/hash/HashFunction.html#hashUnencodedChars-java.lang.CharSequence-"><code>hashUnencodedChars(java.lang.CharSequence)</code></a>, which is
 faster, produces the same output across Java releases, and hashes every <code>char</code> in the
 input, even if some are invalid.</div>
</li>
</ul>
<a name="hashObject-java.lang.Object-com.google.common.hash.Funnel-">
<!--   -->
</a><a name="hashObject-T-com.google.common.hash.Funnel-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hashObject</h4>
<pre>&lt;T&gt;&nbsp;<a href="../../../../com/google/common/hash/HashCode.html" title="com.google.common.hash中的类">HashCode</a>&nbsp;hashObject(T&nbsp;instance,
                        <a href="../../../../com/google/common/hash/Funnel.html" title="com.google.common.hash中的接口">Funnel</a>&lt;? super T&gt;&nbsp;funnel)</pre>
<div class="block">Shortcut for <code>newHasher().putObject(instance, funnel).hash()</code>. The implementation
 <i>might</i> perform better than its longhand equivalent, but should not perform worse.</div>
<dl>
<dt><span class="simpleTagLabel">从以下版本开始:</span></dt>
<dd>14.0</dd>
</dl>
</li>
</ul>
<a name="bits--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>bits</h4>
<pre>int&nbsp;bits()</pre>
<div class="block">Returns the number of bits (a multiple of 32) that each hash code produced by this hash
 function has.</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
</body>
</html>
