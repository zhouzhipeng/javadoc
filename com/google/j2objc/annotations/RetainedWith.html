<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="zh">
<head>
<!-- Generated by javadoc (1.8.0_112) on Sat Sep 01 15:30:44 CST 2018 -->
<title>RetainedWith</title>
<meta name="date" content="2018-09-01">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="RetainedWith";
        }
    }
    catch(err) {
    }
//-->
</script>
<noscript>
<div>您的浏览器已禁用 JavaScript。</div>
</noscript>
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.google.j2objc.annotations</div>
<h2 title="注释类型 RetainedWith" class="title">注释类型 RetainedWith</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/annotation/Target.html?is-external=true" title="java.lang.annotation中的类或接口">@Target</a>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/annotation/Target.html?is-external=true#value--" title="java.lang.annotation中的类或接口">value</a>=<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/annotation/ElementType.html?is-external=true#FIELD" title="java.lang.annotation中的类或接口">FIELD</a>)
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/annotation/Retention.html?is-external=true" title="java.lang.annotation中的类或接口">@Retention</a>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/annotation/Retention.html?is-external=true#value--" title="java.lang.annotation中的类或接口">value</a>=<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/annotation/RetentionPolicy.html?is-external=true#CLASS" title="java.lang.annotation中的类或接口">CLASS</a>)
public @interface <span class="memberNameLabel">RetainedWith</span></pre>
<div class="block">PLEASE READ THIS DOCUMENTATION BEFORE USING THIS ANNOTATION!
 Note the criteria listed below which cannot be enforced by static analysis in
 j2objc. Prefer using <a href="../../../../com/google/j2objc/annotations/Weak.html" title="com.google.j2objc.annotations中的注释"><code>Weak</code></a> over @RetainedWith if possible.

 Indicates that the annotated field (child) forms a direct reference cycle
 with the referring object (parent). Adding this annotation informs J2ObjC of
 the reference cycle between the pair of objects allowing both objects to be
 deallocated once there are no external references to either object.

 @RetainedWith can be applied when a parent object pairs itself
 with a child object and cannot fully manage the child's lifecycle, usually
 because the child is returned to the caller. It can also be applied when the
 child has the same class as the parent, for example on an inverse field of an
 invertible collection type.

 @RetainedWith can only be applied where there is a two-object pair
 with a cycle created by one reference from each object. Note: the two
 references can be from the same declared field. When the references are from
 different fields only one field should be given a @RetainedWith annotation,
 and the @RetainedWith field should point from parent to child.

 When applied carefully in the right circumstance this annotation is very
 useful in preventing leaks from certain Java collection types without needing
 to alter their behavior.

 The following criteria must be adhered to otherwise behavior will be
 undefined:
 - The child object must not reassign any references back to the parent
   object. Preferably references from child to parent are declared final.
 - The child object must not contain any <a href="../../../../com/google/j2objc/annotations/Weak.html" title="com.google.j2objc.annotations中的注释"><code>Weak</code></a> references back to the
   parent object.
 - The child object must not be available to other threads at the time of
   assignment. (Normally, the cycle is created upon construction of the child)</div>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
</body>
</html>
