<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="zh">
<head>
<!-- Generated by javadoc (1.8.0_112) on Sat Sep 01 15:30:48 CST 2018 -->
<title>Immutable</title>
<meta name="date" content="2018-09-01">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Immutable";
        }
    }
    catch(err) {
    }
//-->
</script>
<noscript>
<div>您的浏览器已禁用 JavaScript。</div>
</noscript>
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.google.errorprone.annotations</div>
<h2 title="注释类型 Immutable" class="title">注释类型 Immutable</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/annotation/Target.html?is-external=true" title="java.lang.annotation中的类或接口">@Target</a>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/annotation/Target.html?is-external=true#value--" title="java.lang.annotation中的类或接口">value</a>=<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/annotation/ElementType.html?is-external=true#TYPE" title="java.lang.annotation中的类或接口">TYPE</a>)
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/annotation/Retention.html?is-external=true" title="java.lang.annotation中的类或接口">@Retention</a>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/annotation/Retention.html?is-external=true#value--" title="java.lang.annotation中的类或接口">value</a>=<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/annotation/RetentionPolicy.html?is-external=true#RUNTIME" title="java.lang.annotation中的类或接口">RUNTIME</a>)
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/annotation/Inherited.html?is-external=true" title="java.lang.annotation中的类或接口">@Inherited</a>
public @interface <span class="memberNameLabel">Immutable</span></pre>
<div class="block">The class to which this annotation is applied is immutable.

 <p>An object is immutable if its state cannot be observed to change after construction. Immutable
 objects are inherently thread-safe.

 <p>A class is immutable if all instances of that class are immutable. The immutability of a class
 can only be fully guaranteed if the class is final, otherwise one must ensure all subclasses are
 also immutable.

 <p>A conservative definition of object immutability is:

 <ul>
 <li>All fields are final;
 <li>All reference fields are of immutable type, or null;
 <li>It is <em>properly constructed</em> (the <code>this</code> reference does not escape the
 constructor).
 </ul>

 <p>The requirement that all reference fields be immutable ensures <em>deep</em>
 immutability, meaning all contained state is also immutable. A weaker property, common with
 container classes, is <em>shallow</em> immutability, which allows some of the object's fields to
 point to mutable objects. One example of shallow immutability is guava's ImmutableList, which
 may contain mutable elements.

 <p>It is possible to implement immutable classes with some internal mutable state, as long as
 callers can never observe changes to that state. For example, some state may be lazily
 initialized to improve performance.

 <p>It is also technically possible to have an immutable object with non-final fields (see the
 implementation of <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true#hashCode--" title="java.lang中的类或接口"><code>String.hashCode()</code></a> for an example), but doing this correctly requires
 subtle reasoning about safe data races and deep knowledge of the Java Memory Model.

 Use of this annotation is validated by
 <a href="http://errorprone.info/bugpatterns/ImmutableChecker">Error Prone's immutability analysis</a>,
 which ensures that all <code>@Immutable</code>-annotated classes are deeply immutable according to the
 conservative definition above. Non-final classes may be annotated with <code>@Immutable</code>, and
 any code compiled by Error Prone will be checked to ensure that no mutable subtypes of
 <code>@Immutable</code>-annotated classes exist.

 <p>For more information about immutability, see:

 <ul>
 <li>Java Concurrency in Practice §3.4
 <li>Effective Java §15
 </ul></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== ANNOTATION TYPE OPTIONAL MEMBER SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="annotation.type.optional.element.summary">
<!--   -->
</a>
<h3>可选元素概要</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="可选元素概要表, 列表可选元素和解释">
<caption><span>可选元素</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">限定符和类型</th>
<th class="colLast" scope="col">可选元素和说明</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a>[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/google/errorprone/annotations/Immutable.html#containerOf--">containerOf</a></span></code>
<div class="block">When annotating a generic type as immutable, <code>containerOf</code> specifies
 which type parameters must be instantiated with immutable types for the
 container to be deeply immutable.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ ANNOTATION TYPE MEMBER DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="annotation.type.element.detail">
<!--   -->
</a>
<h3>元素详细资料</h3>
<a name="containerOf--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>containerOf</h4>
<pre>public abstract&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a>[]&nbsp;containerOf</pre>
<div class="block">When annotating a generic type as immutable, <code>containerOf</code> specifies
 which type parameters must be instantiated with immutable types for the
 container to be deeply immutable.</div>
<dl>
<dt>默认值:</dt>
<dd>{}</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
</body>
</html>
