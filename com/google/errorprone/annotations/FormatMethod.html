<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="zh">
<head>
<!-- Generated by javadoc (1.8.0_112) on Sat Sep 01 15:30:48 CST 2018 -->
<title>FormatMethod</title>
<meta name="date" content="2018-09-01">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="FormatMethod";
        }
    }
    catch(err) {
    }
//-->
</script>
<noscript>
<div>您的浏览器已禁用 JavaScript。</div>
</noscript>
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.google.errorprone.annotations</div>
<h2 title="注释类型 FormatMethod" class="title">注释类型 FormatMethod</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/annotation/Documented.html?is-external=true" title="java.lang.annotation中的类或接口">@Documented</a>
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/annotation/Retention.html?is-external=true" title="java.lang.annotation中的类或接口">@Retention</a>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/annotation/Retention.html?is-external=true#value--" title="java.lang.annotation中的类或接口">value</a>=<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/annotation/RetentionPolicy.html?is-external=true#CLASS" title="java.lang.annotation中的类或接口">CLASS</a>)
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/annotation/Target.html?is-external=true" title="java.lang.annotation中的类或接口">@Target</a>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/annotation/Target.html?is-external=true#value--" title="java.lang.annotation中的类或接口">value</a>=<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/annotation/ElementType.html?is-external=true#METHOD" title="java.lang.annotation中的类或接口">METHOD</a>)
public @interface <span class="memberNameLabel">FormatMethod</span></pre>
<div class="block">Annotation for a method that takes a printf-style format string as an argument followed by
 arguments for that format string.

 <p>This annotation is used in conjunction with <a href="../../../../com/google/errorprone/annotations/FormatString.html" title="com.google.errorprone.annotations中的注释"><code>FormatString</code></a> to denote a method that takes
 a printf-style format string and its format arguments. In any method annotated as <code>FormatMethod</code> without a <a href="../../../../com/google/errorprone/annotations/FormatString.html" title="com.google.errorprone.annotations中的注释"><code>FormatString</code></a> parameter, the first <code>String</code> parameter is
 assumed to be the format string. For example, the following two methods are equivalent:

 <pre><code>
 &amp;#064;FormatMethod void log(Locale l, &amp;#064;FormatString String logMessage, Object... args) {}
 &amp;#064;FormatMethod void log(Locale l, String logMessage, Object... args) {}
 </code></pre>

 <p>Using <a href="../../../../com/google/errorprone/annotations/FormatMethod.html" title="com.google.errorprone.annotations中的注释"><code>FormatMethod</code></a> on a method header will ensure the following for the parameters
 passed to the method:

 <ol>
 <li>A format string is either:
     <ul>
     <li>A compile time constant value (see <a href="../../../../com/google/errorprone/annotations/CompileTimeConstant.html" title="com.google.errorprone.annotations中的注释"><code>CompileTimeConstant</code></a> for more info).
         <p>The following example is valid:
         <pre><code>
 public class Foo {
   static final String staticFinalLogMessage = "foo";
   &amp;#064;FormatMethod void log(&amp;#064;FormatString String format, Object... args) {}
   void validLogs() {
     log("String literal");
     log(staticFinalLogMessage);
   }
 }
 </code></pre>
         <p>However the following would be invalid:
         <pre><code>
 public class Foo{
   &amp;#064;FormatMethod void log(&amp;#064;FormatString String format, Object... args) {}
   void invalidLog(String notCompileTimeConstant) {
     log(notCompileTimeConstant);
   }
 }
 </code></pre>
     <li> An effectively final variable that was assigned to a compile time constant value. This
         is to permit the following common case:
         <pre><code>
 String format = "Some long format string: %s";
 log(format, arg);
 </code></pre>
     <li>Another <a href="../../../../com/google/errorprone/annotations/FormatString.html" title="com.google.errorprone.annotations中的注释"><code>FormatString</code></a> annotated parameter. Ex:
         <pre><code>
 public class Foo {
   static final String staticFinalLogMessage = "foo";
   &amp;#064;FormatMethod void log(&amp;#064;FormatString String format, Object... args) {}
   &amp;#064;FormatMethod void validLog(&amp;#064;FormatString String format, Object... args) {
     log(format, args);
   }
 }
 </code></pre>
     </ul>

 <li>The format string will be valid for the input format arguments. In the case that the actual
     format string parameter has a compile time constant value, this will compare the actual
     format string value to the types of the passed in format arguments to ensure validity. In the
     case that the actual format string parameter is a parameter that was annotated <a href="../../../../com/google/errorprone/annotations/FormatString.html" title="com.google.errorprone.annotations中的注释"><code>FormatString</code></a> itself, this will ensure that the types of the arguments passed to the callee
     match the types of the arguments in the caller.
 </ol></div>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
</body>
</html>
