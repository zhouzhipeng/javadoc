<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="zh">
<head>
<!-- Generated by javadoc (1.8.0_112) on Sat Sep 01 15:36:13 CST 2018 -->
<title>SpyBean</title>
<meta name="date" content="2018-09-01">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="SpyBean";
        }
    }
    catch(err) {
    }
//-->
</script>
<noscript>
<div>您的浏览器已禁用 JavaScript。</div>
</noscript>
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.springframework.boot.test.mock.mockito</div>
<h2 title="注释类型 SpyBean" class="title">注释类型 SpyBean</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/annotation/Target.html?is-external=true" title="java.lang.annotation中的类或接口">@Target</a>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/annotation/Target.html?is-external=true#value--" title="java.lang.annotation中的类或接口">value</a>={<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/annotation/ElementType.html?is-external=true#TYPE" title="java.lang.annotation中的类或接口">TYPE</a>,<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/annotation/ElementType.html?is-external=true#FIELD" title="java.lang.annotation中的类或接口">FIELD</a>})
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/annotation/Retention.html?is-external=true" title="java.lang.annotation中的类或接口">@Retention</a>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/annotation/Retention.html?is-external=true#value--" title="java.lang.annotation中的类或接口">value</a>=<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/annotation/RetentionPolicy.html?is-external=true#RUNTIME" title="java.lang.annotation中的类或接口">RUNTIME</a>)
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/annotation/Documented.html?is-external=true" title="java.lang.annotation中的类或接口">@Documented</a>
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/annotation/Repeatable.html?is-external=true" title="java.lang.annotation中的类或接口">@Repeatable</a>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/annotation/Repeatable.html?is-external=true#value--" title="java.lang.annotation中的类或接口">value</a>=<a href="../../../../../../org/springframework/boot/test/mock/mockito/SpyBeans.html" title="org.springframework.boot.test.mock.mockito中的注释">SpyBeans.class</a>)
public @interface <span class="memberNameLabel">SpyBean</span></pre>
<div class="block">Annotation that can be used to apply Mockito spies to a Spring
 <a href="../../../../../../org/springframework/context/ApplicationContext.html" title="org.springframework.context中的接口"><code>ApplicationContext</code></a>. Can be used as a class level annotation or on fields in
 either <code>@Configuration</code> classes, or test classes that are
 <code>@RunWith</code> the <code>SpringRunner</code>.
 <p>
 Spies can be applied by type or by <a href="../../../../../../org/springframework/boot/test/mock/mockito/SpyBean.html#name--"><code>bean name</code></a>. All beans in the context
 of the same type will be wrapped with the spy. If no existing bean is defined a new one
 will be added. Dependencies that are known to the application context but are not beans
 (such as those
 <a href="../../../../../../org/springframework/beans/factory/config/ConfigurableListableBeanFactory.html#registerResolvableDependency-java.lang.Class-java.lang.Object-"><code>registered directly</code></a>) will not be found and a spied bean will be added to the context
 alongside the existing dependency.
 <p>
 When <code>@SpyBean</code> is used on a field, as well as being registered in the
 application context, the spy will also be injected into the field. Typical usage might
 be: <pre class="code">
 &#064;RunWith(SpringRunner.class)
 public class ExampleTests {

     &#064;SpyBean
     private ExampleService service;

     &#064;Autowired
     private UserOfService userOfService;

     &#064;Test
     public void testUserOfService() {
         String actual = this.userOfService.makeUse();
         assertEquals("Was: Hello", actual);
         verify(this.service).greet();
     }

     &#064;Configuration
     &#064;Import(UserOfService.class) // A &#064;Component injected with ExampleService
     static class Config {
     }


 }
 </pre> If there is more than one bean of the requested type, qualifier metadata must be
 specified at field level: <pre class="code">
 &#064;RunWith(SpringRunner.class)
 public class ExampleTests {

     &#064;SpyBean
     &#064;Qualifier("example")
     private ExampleService service;

     ...
 }
 </pre>
 <p>
 This annotation is <code>@Repeatable</code> and may be specified multiple times when working
 with Java 8 or contained within a <a href="../../../../../../org/springframework/boot/test/mock/mockito/SpyBeans.html" title="org.springframework.boot.test.mock.mockito中的注释"><code>@SpyBeans</code></a> annotation.</div>
<dl>
<dt><span class="simpleTagLabel">从以下版本开始:</span></dt>
<dd>1.4.0</dd>
<dt><span class="seeLabel">另请参阅:</span></dt>
<dd><a href="../../../../../../org/springframework/boot/test/mock/mockito/MockitoPostProcessor.html" title="org.springframework.boot.test.mock.mockito中的类"><code>MockitoPostProcessor</code></a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== ANNOTATION TYPE OPTIONAL MEMBER SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="annotation.type.optional.element.summary">
<!--   -->
</a>
<h3>可选元素概要</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="可选元素概要表, 列表可选元素和解释">
<caption><span>可选元素</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">限定符和类型</th>
<th class="colLast" scope="col">可选元素和说明</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html?is-external=true" title="java.lang中的类或接口">Class</a>&lt;?&gt;[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/springframework/boot/test/mock/mockito/SpyBean.html#classes--">classes</a></span></code>
<div class="block">The classes to spy.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/springframework/boot/test/mock/mockito/SpyBean.html#name--">name</a></span></code>
<div class="block">The name of the bean to spy.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/springframework/boot/test/mock/mockito/SpyBean.html#proxyTargetAware--">proxyTargetAware</a></span></code>
<div class="block">Indicates that Mockito methods such as <a href="../../../../../../org/mockito/Mockito.html#verify-T-"><code>verify(mock)</code></a>
 should use the <code>target</code> of AOP advised beans, rather than the proxy itself.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../../../org/springframework/boot/test/mock/mockito/MockReset.html" title="org.springframework.boot.test.mock.mockito中的枚举">MockReset</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/springframework/boot/test/mock/mockito/SpyBean.html#reset--">reset</a></span></code>
<div class="block">The reset mode to apply to the spied bean.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html?is-external=true" title="java.lang中的类或接口">Class</a>&lt;?&gt;[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/springframework/boot/test/mock/mockito/SpyBean.html#value--">value</a></span></code>
<div class="block">The classes to spy.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ ANNOTATION TYPE MEMBER DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="annotation.type.element.detail">
<!--   -->
</a>
<h3>元素详细资料</h3>
<a name="name--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>name</h4>
<pre>public abstract&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a>&nbsp;name</pre>
<div class="block">The name of the bean to spy. If not specified the name will either be generated or,
 if the spy is for an existing bean, the existing name will be used.</div>
<dl>
<dt><span class="returnLabel">返回:</span></dt>
<dd>the name of the bean</dd>
</dl>
<dl>
<dt>默认值:</dt>
<dd>""</dd>
</dl>
</li>
</ul>
</li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="value--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>value</h4>
<pre><a href="../../../../../../org/springframework/core/annotation/AliasFor.html" title="org.springframework.core.annotation中的注释">@AliasFor</a>(<a href="../../../../../../org/springframework/core/annotation/AliasFor.html#value--">value</a>="classes")
public abstract&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html?is-external=true" title="java.lang中的类或接口">Class</a>&lt;?&gt;[]&nbsp;value</pre>
<div class="block">The classes to spy. This is an alias of <a href="../../../../../../org/springframework/boot/test/mock/mockito/SpyBean.html#classes--"><code>classes()</code></a> which can be used for
 brevity if no other attributes are defined. See <a href="../../../../../../org/springframework/boot/test/mock/mockito/SpyBean.html#classes--"><code>classes()</code></a> for details.</div>
<dl>
<dt><span class="returnLabel">返回:</span></dt>
<dd>the classes to spy</dd>
</dl>
<dl>
<dt>默认值:</dt>
<dd>{}</dd>
</dl>
</li>
</ul>
</li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="classes--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>classes</h4>
<pre><a href="../../../../../../org/springframework/core/annotation/AliasFor.html" title="org.springframework.core.annotation中的注释">@AliasFor</a>(<a href="../../../../../../org/springframework/core/annotation/AliasFor.html#value--">value</a>="value")
public abstract&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html?is-external=true" title="java.lang中的类或接口">Class</a>&lt;?&gt;[]&nbsp;classes</pre>
<div class="block">The classes to spy. Each class specified here will result in a spy being applied.
 Classes can be omitted when the annotation is used on a field.
 <p>
 When <code>@SpyBean</code> also defines a <code>name</code> this attribute can only contain a
 single value.
 <p>
 If this is the only specified attribute consider using the <code>value</code> alias
 instead.</div>
<dl>
<dt><span class="returnLabel">返回:</span></dt>
<dd>the classes to spy</dd>
</dl>
<dl>
<dt>默认值:</dt>
<dd>{}</dd>
</dl>
</li>
</ul>
</li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="reset--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reset</h4>
<pre>public abstract&nbsp;<a href="../../../../../../org/springframework/boot/test/mock/mockito/MockReset.html" title="org.springframework.boot.test.mock.mockito中的枚举">MockReset</a>&nbsp;reset</pre>
<div class="block">The reset mode to apply to the spied bean. The default is <a href="../../../../../../org/springframework/boot/test/mock/mockito/MockReset.html#AFTER"><code>MockReset.AFTER</code></a>
 meaning that spies are automatically reset after each test method is invoked.</div>
<dl>
<dt><span class="returnLabel">返回:</span></dt>
<dd>the reset mode</dd>
</dl>
<dl>
<dt>默认值:</dt>
<dd>org.springframework.boot.test.mock.mockito.MockReset.AFTER</dd>
</dl>
</li>
</ul>
</li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="proxyTargetAware--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>proxyTargetAware</h4>
<pre>public abstract&nbsp;boolean&nbsp;proxyTargetAware</pre>
<div class="block">Indicates that Mockito methods such as <a href="../../../../../../org/mockito/Mockito.html#verify-T-"><code>verify(mock)</code></a>
 should use the <code>target</code> of AOP advised beans, rather than the proxy itself.
 If set to <code>false</code> you may need to use the result of
 <code>AopTestUtils.getUltimateTargetObject(...)</code> when calling Mockito methods.</div>
<dl>
<dt><span class="returnLabel">返回:</span></dt>
<dd><code>true</code> if the target of AOP advised beans is used or <code>false</code> if
 the proxy is used directly</dd>
</dl>
<dl>
<dt>默认值:</dt>
<dd>true</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
</body>
</html>
