<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="zh">
<head>
<!-- Generated by javadoc (1.8.0_112) on Sat Sep 01 15:35:55 CST 2018 -->
<title>Flow</title>
<meta name="date" content="2018-09-01">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Flow";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":9};
var tabs = {65535:["t0","所有方法"],1:["t1","静态方法"],2:["t2","实例方法"],8:["t4","具体方法"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>您的浏览器已禁用 JavaScript。</div>
</noscript>
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.openjdk.tools.javac.comp</div>
<h2 title="类 Flow" class="title">类 Flow</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="java.lang中的类或接口">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.openjdk.tools.javac.comp.Flow</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">Flow</span>
extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="java.lang中的类或接口">Object</a></pre>
<div class="block">This pass implements dataflow analysis for Java programs though
  different AST visitor steps. Liveness analysis (see AliveAnalyzer) checks that
  every statement is reachable. Exception analysis (see FlowAnalyzer) ensures that
  every checked exception that is thrown is declared or caught.  Definite assignment analysis
  (see AssignAnalyzer) ensures that each variable is assigned when used.  Definite
  unassignment analysis (see AssignAnalyzer) in ensures that no final variable
  is assigned more than once. Finally, local variable capture analysis (see CaptureAnalyzer)
  determines that local variables accessed within the scope of an inner class/lambda
  are either final or effectively-final.

  <p>The JLS has a number of problems in the
  specification of these flow analysis problems. This implementation
  attempts to address those issues.

  <p>First, there is no accommodation for a finally clause that cannot
  complete normally. For liveness analysis, an intervening finally
  clause can cause a break, continue, or return not to reach its
  target.  For exception analysis, an intervening finally clause can
  cause any exception to be "caught".  For DA/DU analysis, the finally
  clause can prevent a transfer of control from propagating DA/DU
  state to the target.  In addition, code in the finally clause can
  affect the DA/DU status of variables.

  <p>For try statements, we introduce the idea of a variable being
  definitely unassigned "everywhere" in a block.  A variable V is
  "unassigned everywhere" in a block iff it is unassigned at the
  beginning of the block and there is no reachable assignment to V
  in the block.  An assignment V=e is reachable iff V is not DA
  after e.  Then we can say that V is DU at the beginning of the
  catch block iff V is DU everywhere in the try block.  Similarly, V
  is DU at the beginning of the finally block iff V is DU everywhere
  in the try block and in every catch block.  Specifically, the
  following bullet is added to 16.2.2
  <pre>
      V is <em>unassigned everywhere</em> in a block if it is
      unassigned before the block and there is no reachable
      assignment to V within the block.
  </pre>
  <p>In 16.2.15, the third bullet (and all of its sub-bullets) for all
  try blocks is changed to
  <pre>
      V is definitely unassigned before a catch block iff V is
      definitely unassigned everywhere in the try block.
  </pre>
  <p>The last bullet (and all of its sub-bullets) for try blocks that
  have a finally block is changed to
  <pre>
      V is definitely unassigned before the finally block iff
      V is definitely unassigned everywhere in the try block
      and everywhere in each catch block of the try statement.
  </pre>
  <p>In addition,
  <pre>
      V is definitely assigned at the end of a constructor iff
      V is definitely assigned after the block that is the body
      of the constructor and V is definitely assigned at every
      return that can return from the constructor.
  </pre>
  <p>In addition, each continue statement with the loop as its target
  is treated as a jump to the end of the loop body, and "intervening"
  finally clauses are treated as follows: V is DA "due to the
  continue" iff V is DA before the continue statement or V is DA at
  the end of any intervening finally block.  V is DU "due to the
  continue" iff any intervening finally cannot complete normally or V
  is DU at the end of every intervening finally block.  This "due to
  the continue" concept is then used in the spec for the loops.

  <p>Similarly, break statements must consider intervening finally
  blocks.  For liveness analysis, a break statement for which any
  intervening finally cannot complete normally is not considered to
  cause the target statement to be able to complete normally. Then
  we say V is DA "due to the break" iff V is DA before the break or
  V is DA at the end of any intervening finally block.  V is DU "due
  to the break" iff any intervening finally cannot complete normally
  or V is DU at the break and at the end of every intervening
  finally block.  (I suspect this latter condition can be
  simplified.)  This "due to the break" is then used in the spec for
  all statements that can be "broken".

  <p>The return statement is treated similarly.  V is DA "due to a
  return statement" iff V is DA before the return statement or V is
  DA at the end of any intervening finally block.  Note that we
  don't have to worry about the return expression because this
  concept is only used for construcrors.

  <p>There is no spec in the JLS for when a variable is definitely
  assigned at the end of a constructor, which is needed for final
  fields (8.3.1.2).  We implement the rule that V is DA at the end
  of the constructor iff it is DA and the end of the body of the
  constructor and V is DA "due to" every return of the constructor.

  <p>Intervening finally blocks similarly affect exception analysis.  An
  intervening finally that cannot complete normally allows us to ignore
  an otherwise uncaught exception.

  <p>To implement the semantics of intervening finally clauses, all
  nonlocal transfers (break, continue, return, throw, method call that
  can throw a checked exception, and a constructor invocation that can
  thrown a checked exception) are recorded in a queue, and removed
  from the queue when we complete processing the target of the
  nonlocal transfer.  This allows us to modify the queue in accordance
  with the above rules when we encounter a finally clause.  The only
  exception to this [no pun intended] is that checked exceptions that
  are known to be caught or declared to be caught in the enclosing
  method are not recorded in the queue, but instead are recorded in a
  global variable "<code>Set&lt;Type&gt; thrown</code>" that records the type of all
  exceptions that can be thrown.

  <p>Other minor issues the treatment of members of other classes
  (always considered DA except that within an anonymous class
  constructor, where DA status from the enclosing scope is
  preserved), treatment of the case expression (V is DA before the
  case expression iff V is DA after the switch expression),
  treatment of variables declared in a switch block (the implied
  DA/DU status after the switch expression is DU and not DA for
  variables defined in a switch block), the treatment of boolean ?:
  expressions (The JLS rules only handle b and c non-boolean; the
  new rule is that if b and c are boolean valued, then V is
  (un)assigned after a?b:c when true/false iff V is (un)assigned
  after b when true/false and V is (un)assigned after c when
  true/false).

  <p>There is the remaining question of what syntactic forms constitute a
  reference to a variable.  It is conventional to allow this.x on the
  left-hand-side to initialize a final instance field named x, yet
  this.x isn't considered a "use" when appearing on a right-hand-side
  in most implementations.  Should parentheses affect what is
  considered a variable reference?  The simplest rule would be to
  allow unqualified forms only, parentheses optional, and phase out
  support for assigning to a final field via this.x.

  <p><b>This is NOT part of any supported API.
  If you write code that depends on this, you do so at your own risk.
  This code and its internal interfaces are subject to change or
  deletion without notice.</b></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>嵌套类概要</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="嵌套类概要表, 列表嵌套类和解释">
<caption><span>嵌套类</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">限定符和类型</th>
<th class="colLast" scope="col">类和说明</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/openjdk/tools/javac/comp/Flow.AssignAnalyzer.html" title="org.openjdk.tools.javac.comp中的类">Flow.AssignAnalyzer</a></span></code>
<div class="block">This pass implements (i) definite assignment analysis, which ensures that
 each variable is assigned when used and (ii) definite unassignment analysis,
 which ensures that no final variable is assigned more than once.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>字段概要</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="字段概要表, 列表字段和解释">
<caption><span>字段</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">限定符和类型</th>
<th class="colLast" scope="col">字段和说明</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static <a href="../../../../../org/openjdk/tools/javac/util/Context.Key.html" title="org.openjdk.tools.javac.util中的类">Context.Key</a>&lt;<a href="../../../../../org/openjdk/tools/javac/comp/Flow.html" title="org.openjdk.tools.javac.comp中的类">Flow</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/openjdk/tools/javac/comp/Flow.html#flowKey">flowKey</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>构造器概要</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="构造器概要表, 列表构造器和解释">
<caption><span>构造器</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">限定符</th>
<th class="colLast" scope="col">构造器和说明</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected </code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/openjdk/tools/javac/comp/Flow.html#Flow-org.openjdk.tools.javac.util.Context-">Flow</a></span>(<a href="../../../../../org/openjdk/tools/javac/util/Context.html" title="org.openjdk.tools.javac.util中的类">Context</a>&nbsp;context)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>方法概要</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="方法概要表, 列表方法和解释">
<caption><span id="t0" class="activeTableTab"><span>所有方法</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">静态方法</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">实例方法</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">具体方法</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">限定符和类型</th>
<th class="colLast" scope="col">方法和说明</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/openjdk/tools/javac/comp/Flow.html#analyzeLambda-org.openjdk.tools.javac.comp.Env-org.openjdk.tools.javac.tree.JCTree.JCLambda-org.openjdk.tools.javac.tree.TreeMaker-boolean-">analyzeLambda</a></span>(<a href="../../../../../org/openjdk/tools/javac/comp/Env.html" title="org.openjdk.tools.javac.comp中的类">Env</a>&lt;<a href="../../../../../org/openjdk/tools/javac/comp/AttrContext.html" title="org.openjdk.tools.javac.comp中的类">AttrContext</a>&gt;&nbsp;env,
             <a href="../../../../../org/openjdk/tools/javac/tree/JCTree.JCLambda.html" title="org.openjdk.tools.javac.tree中的类">JCTree.JCLambda</a>&nbsp;that,
             <a href="../../../../../org/openjdk/tools/javac/tree/TreeMaker.html" title="org.openjdk.tools.javac.tree中的类">TreeMaker</a>&nbsp;make,
             boolean&nbsp;speculative)</code>&nbsp;</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="../../../../../org/openjdk/tools/javac/util/List.html" title="org.openjdk.tools.javac.util中的类">List</a>&lt;<a href="../../../../../org/openjdk/tools/javac/code/Type.html" title="org.openjdk.tools.javac.code中的类">Type</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/openjdk/tools/javac/comp/Flow.html#analyzeLambdaThrownTypes-org.openjdk.tools.javac.comp.Env-org.openjdk.tools.javac.tree.JCTree.JCLambda-org.openjdk.tools.javac.tree.TreeMaker-">analyzeLambdaThrownTypes</a></span>(<a href="../../../../../org/openjdk/tools/javac/comp/Env.html" title="org.openjdk.tools.javac.comp中的类">Env</a>&lt;<a href="../../../../../org/openjdk/tools/javac/comp/AttrContext.html" title="org.openjdk.tools.javac.comp中的类">AttrContext</a>&gt;&nbsp;env,
                        <a href="../../../../../org/openjdk/tools/javac/tree/JCTree.JCLambda.html" title="org.openjdk.tools.javac.tree中的类">JCTree.JCLambda</a>&nbsp;that,
                        <a href="../../../../../org/openjdk/tools/javac/tree/TreeMaker.html" title="org.openjdk.tools.javac.tree中的类">TreeMaker</a>&nbsp;make)</code>&nbsp;</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/openjdk/tools/javac/comp/Flow.html#analyzeTree-org.openjdk.tools.javac.comp.Env-org.openjdk.tools.javac.tree.TreeMaker-">analyzeTree</a></span>(<a href="../../../../../org/openjdk/tools/javac/comp/Env.html" title="org.openjdk.tools.javac.comp中的类">Env</a>&lt;<a href="../../../../../org/openjdk/tools/javac/comp/AttrContext.html" title="org.openjdk.tools.javac.comp中的类">AttrContext</a>&gt;&nbsp;env,
           <a href="../../../../../org/openjdk/tools/javac/tree/TreeMaker.html" title="org.openjdk.tools.javac.tree中的类">TreeMaker</a>&nbsp;make)</code>&nbsp;</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>static <a href="../../../../../org/openjdk/tools/javac/comp/Flow.html" title="org.openjdk.tools.javac.comp中的类">Flow</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/openjdk/tools/javac/comp/Flow.html#instance-org.openjdk.tools.javac.util.Context-">instance</a></span>(<a href="../../../../../org/openjdk/tools/javac/util/Context.html" title="org.openjdk.tools.javac.util中的类">Context</a>&nbsp;context)</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>从类继承的方法&nbsp;java.lang.<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="java.lang中的类或接口">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#clone--" title="java.lang中的类或接口">clone</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="java.lang中的类或接口">equals</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize--" title="java.lang中的类或接口">finalize</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass--" title="java.lang中的类或接口">getClass</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="java.lang中的类或接口">hashCode</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify--" title="java.lang中的类或接口">notify</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="java.lang中的类或接口">notifyAll</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString--" title="java.lang中的类或接口">toString</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait--" title="java.lang中的类或接口">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="java.lang中的类或接口">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="java.lang中的类或接口">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>字段详细资料</h3>
<a name="flowKey">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>flowKey</h4>
<pre>protected static final&nbsp;<a href="../../../../../org/openjdk/tools/javac/util/Context.Key.html" title="org.openjdk.tools.javac.util中的类">Context.Key</a>&lt;<a href="../../../../../org/openjdk/tools/javac/comp/Flow.html" title="org.openjdk.tools.javac.comp中的类">Flow</a>&gt; flowKey</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>构造器详细资料</h3>
<a name="Flow-org.openjdk.tools.javac.util.Context-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>Flow</h4>
<pre>protected&nbsp;Flow(<a href="../../../../../org/openjdk/tools/javac/util/Context.html" title="org.openjdk.tools.javac.util中的类">Context</a>&nbsp;context)</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>方法详细资料</h3>
<a name="instance-org.openjdk.tools.javac.util.Context-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>instance</h4>
<pre>public static&nbsp;<a href="../../../../../org/openjdk/tools/javac/comp/Flow.html" title="org.openjdk.tools.javac.comp中的类">Flow</a>&nbsp;instance(<a href="../../../../../org/openjdk/tools/javac/util/Context.html" title="org.openjdk.tools.javac.util中的类">Context</a>&nbsp;context)</pre>
</li>
</ul>
<a name="analyzeTree-org.openjdk.tools.javac.comp.Env-org.openjdk.tools.javac.tree.TreeMaker-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>analyzeTree</h4>
<pre>public&nbsp;void&nbsp;analyzeTree(<a href="../../../../../org/openjdk/tools/javac/comp/Env.html" title="org.openjdk.tools.javac.comp中的类">Env</a>&lt;<a href="../../../../../org/openjdk/tools/javac/comp/AttrContext.html" title="org.openjdk.tools.javac.comp中的类">AttrContext</a>&gt;&nbsp;env,
                        <a href="../../../../../org/openjdk/tools/javac/tree/TreeMaker.html" title="org.openjdk.tools.javac.tree中的类">TreeMaker</a>&nbsp;make)</pre>
</li>
</ul>
<a name="analyzeLambda-org.openjdk.tools.javac.comp.Env-org.openjdk.tools.javac.tree.JCTree.JCLambda-org.openjdk.tools.javac.tree.TreeMaker-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>analyzeLambda</h4>
<pre>public&nbsp;void&nbsp;analyzeLambda(<a href="../../../../../org/openjdk/tools/javac/comp/Env.html" title="org.openjdk.tools.javac.comp中的类">Env</a>&lt;<a href="../../../../../org/openjdk/tools/javac/comp/AttrContext.html" title="org.openjdk.tools.javac.comp中的类">AttrContext</a>&gt;&nbsp;env,
                          <a href="../../../../../org/openjdk/tools/javac/tree/JCTree.JCLambda.html" title="org.openjdk.tools.javac.tree中的类">JCTree.JCLambda</a>&nbsp;that,
                          <a href="../../../../../org/openjdk/tools/javac/tree/TreeMaker.html" title="org.openjdk.tools.javac.tree中的类">TreeMaker</a>&nbsp;make,
                          boolean&nbsp;speculative)</pre>
</li>
</ul>
<a name="analyzeLambdaThrownTypes-org.openjdk.tools.javac.comp.Env-org.openjdk.tools.javac.tree.JCTree.JCLambda-org.openjdk.tools.javac.tree.TreeMaker-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>analyzeLambdaThrownTypes</h4>
<pre>public&nbsp;<a href="../../../../../org/openjdk/tools/javac/util/List.html" title="org.openjdk.tools.javac.util中的类">List</a>&lt;<a href="../../../../../org/openjdk/tools/javac/code/Type.html" title="org.openjdk.tools.javac.code中的类">Type</a>&gt;&nbsp;analyzeLambdaThrownTypes(<a href="../../../../../org/openjdk/tools/javac/comp/Env.html" title="org.openjdk.tools.javac.comp中的类">Env</a>&lt;<a href="../../../../../org/openjdk/tools/javac/comp/AttrContext.html" title="org.openjdk.tools.javac.comp中的类">AttrContext</a>&gt;&nbsp;env,
                                           <a href="../../../../../org/openjdk/tools/javac/tree/JCTree.JCLambda.html" title="org.openjdk.tools.javac.tree中的类">JCTree.JCLambda</a>&nbsp;that,
                                           <a href="../../../../../org/openjdk/tools/javac/tree/TreeMaker.html" title="org.openjdk.tools.javac.tree中的类">TreeMaker</a>&nbsp;make)</pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
</body>
</html>
