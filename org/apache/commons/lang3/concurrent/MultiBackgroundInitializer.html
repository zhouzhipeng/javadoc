<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="zh">
<head>
<!-- Generated by javadoc (1.8.0_112) on Sat Sep 01 15:33:52 CST 2018 -->
<title>MultiBackgroundInitializer</title>
<meta name="date" content="2018-09-01">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="MultiBackgroundInitializer";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10};
var tabs = {65535:["t0","所有方法"],2:["t2","实例方法"],8:["t4","具体方法"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>您的浏览器已禁用 JavaScript。</div>
</noscript>
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.commons.lang3.concurrent</div>
<h2 title="类 MultiBackgroundInitializer" class="title">类 MultiBackgroundInitializer</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="java.lang中的类或接口">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../../../org/apache/commons/lang3/concurrent/BackgroundInitializer.html" title="org.apache.commons.lang3.concurrent中的类">org.apache.commons.lang3.concurrent.BackgroundInitializer</a>&lt;<a href="../../../../../org/apache/commons/lang3/concurrent/MultiBackgroundInitializer.MultiBackgroundInitializerResults.html" title="org.apache.commons.lang3.concurrent中的类">MultiBackgroundInitializer.MultiBackgroundInitializerResults</a>&gt;</li>
<li>
<ul class="inheritance">
<li>org.apache.commons.lang3.concurrent.MultiBackgroundInitializer</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>所有已实现的接口:</dt>
<dd><a href="../../../../../org/apache/commons/lang3/concurrent/ConcurrentInitializer.html" title="org.apache.commons.lang3.concurrent中的接口">ConcurrentInitializer</a>&lt;<a href="../../../../../org/apache/commons/lang3/concurrent/MultiBackgroundInitializer.MultiBackgroundInitializerResults.html" title="org.apache.commons.lang3.concurrent中的类">MultiBackgroundInitializer.MultiBackgroundInitializerResults</a>&gt;</dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">MultiBackgroundInitializer</span>
extends <a href="../../../../../org/apache/commons/lang3/concurrent/BackgroundInitializer.html" title="org.apache.commons.lang3.concurrent中的类">BackgroundInitializer</a>&lt;<a href="../../../../../org/apache/commons/lang3/concurrent/MultiBackgroundInitializer.MultiBackgroundInitializerResults.html" title="org.apache.commons.lang3.concurrent中的类">MultiBackgroundInitializer.MultiBackgroundInitializerResults</a>&gt;</pre>
<div class="block"><p>
 A specialized <a href="../../../../../org/apache/commons/lang3/concurrent/BackgroundInitializer.html" title="org.apache.commons.lang3.concurrent中的类"><code>BackgroundInitializer</code></a> implementation that can deal with
 multiple background initialization tasks.
 </p>
 <p>
 This class has a similar purpose as <a href="../../../../../org/apache/commons/lang3/concurrent/BackgroundInitializer.html" title="org.apache.commons.lang3.concurrent中的类"><code>BackgroundInitializer</code></a>. However,
 it is not limited to a single background initialization task. Rather it
 manages an arbitrary number of <code>BackgroundInitializer</code> objects,
 executes them, and waits until they are completely initialized. This is
 useful for applications that have to perform multiple initialization tasks
 that can run in parallel (i.e. that do not depend on each other). This class
 takes care about the management of an <code>ExecutorService</code> and shares it
 with the <code>BackgroundInitializer</code> objects it is responsible for; so the
 using application need not bother with these details.
 </p>
 <p>
 The typical usage scenario for <code>MultiBackgroundInitializer</code> is as
 follows:
 </p>
 <ul>
 <li>Create a new instance of the class. Optionally pass in a pre-configured
 <code>ExecutorService</code>. Alternatively <code>MultiBackgroundInitializer</code> can
 create a temporary <code>ExecutorService</code> and delete it after initialization
 is complete.</li>
 <li>Create specialized <a href="../../../../../org/apache/commons/lang3/concurrent/BackgroundInitializer.html" title="org.apache.commons.lang3.concurrent中的类"><code>BackgroundInitializer</code></a> objects for the
 initialization tasks to be performed and add them to the <code>MultiBackgroundInitializer</code> using the
 <a href="../../../../../org/apache/commons/lang3/concurrent/MultiBackgroundInitializer.html#addInitializer-java.lang.String-org.apache.commons.lang3.concurrent.BackgroundInitializer-"><code>addInitializer(String, BackgroundInitializer)</code></a> method.</li>
 <li>After all initializers have been added, call the <a href="../../../../../org/apache/commons/lang3/concurrent/BackgroundInitializer.html#start--"><code>BackgroundInitializer.start()</code></a> method.
 </li>
 <li>When access to the result objects produced by the <code>BackgroundInitializer</code> objects is needed call the <a href="../../../../../org/apache/commons/lang3/concurrent/BackgroundInitializer.html#get--"><code>BackgroundInitializer.get()</code></a> method. The
 object returned here provides access to all result objects created during
 initialization. It also stores information about exceptions that have
 occurred.</li>
 </ul>
 <p>
 <code>MultiBackgroundInitializer</code> starts a special controller task that
 starts all <code>BackgroundInitializer</code> objects added to the instance.
 Before the an initializer is started it is checked whether this initializer
 already has an <code>ExecutorService</code> set. If this is the case, this <code>ExecutorService</code> is used for running the background task. Otherwise the
 current <code>ExecutorService</code> of this <code>MultiBackgroundInitializer</code> is
 shared with the initializer.
 </p>
 <p>
 The easiest way of using this class is to let it deal with the management of
 an <code>ExecutorService</code> itself: If no external <code>ExecutorService</code> is
 provided, the class creates a temporary <code>ExecutorService</code> (that is
 capable of executing all background tasks in parallel) and destroys it at the
 end of background processing.
 </p>
 <p>
 Alternatively an external <code>ExecutorService</code> can be provided - either at
 construction time or later by calling the
 <a href="../../../../../org/apache/commons/lang3/concurrent/BackgroundInitializer.html#setExternalExecutor-java.util.concurrent.ExecutorService-"><code>BackgroundInitializer.setExternalExecutor(ExecutorService)</code></a> method. In this case all
 background tasks are scheduled at this external <code>ExecutorService</code>.
 <strong>Important note:</strong> When using an external <code>ExecutorService</code> be sure that the number of threads managed by the service is
 large enough. Otherwise a deadlock can happen! This is the case in the
 following scenario: <code>MultiBackgroundInitializer</code> starts a task that
 starts all registered <code>BackgroundInitializer</code> objects and waits for
 their completion. If for instance a single threaded <code>ExecutorService</code>
 is used, none of the background tasks can be executed, and the task created
 by <code>MultiBackgroundInitializer</code> waits forever.
 </p></div>
<dl>
<dt><span class="simpleTagLabel">从以下版本开始:</span></dt>
<dd>3.0</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>嵌套类概要</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="嵌套类概要表, 列表嵌套类和解释">
<caption><span>嵌套类</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">限定符和类型</th>
<th class="colLast" scope="col">类和说明</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/commons/lang3/concurrent/MultiBackgroundInitializer.MultiBackgroundInitializerResults.html" title="org.apache.commons.lang3.concurrent中的类">MultiBackgroundInitializer.MultiBackgroundInitializerResults</a></span></code>
<div class="block">A data class for storing the results of the background initialization
 performed by <code>MultiBackgroundInitializer</code>.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>构造器概要</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="构造器概要表, 列表构造器和解释">
<caption><span>构造器</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">构造器和说明</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../org/apache/commons/lang3/concurrent/MultiBackgroundInitializer.html#MultiBackgroundInitializer--">MultiBackgroundInitializer</a></span>()</code>
<div class="block">Creates a new instance of <code>MultiBackgroundInitializer</code>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../org/apache/commons/lang3/concurrent/MultiBackgroundInitializer.html#MultiBackgroundInitializer-java.util.concurrent.ExecutorService-">MultiBackgroundInitializer</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html?is-external=true" title="java.util.concurrent中的类或接口">ExecutorService</a>&nbsp;exec)</code>
<div class="block">Creates a new instance of <code>MultiBackgroundInitializer</code> and
 initializes it with the given external <code>ExecutorService</code>.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>方法概要</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="方法概要表, 列表方法和解释">
<caption><span id="t0" class="activeTableTab"><span>所有方法</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">实例方法</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">具体方法</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">限定符和类型</th>
<th class="colLast" scope="col">方法和说明</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/commons/lang3/concurrent/MultiBackgroundInitializer.html#addInitializer-java.lang.String-org.apache.commons.lang3.concurrent.BackgroundInitializer-">addInitializer</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a>&nbsp;name,
              <a href="../../../../../org/apache/commons/lang3/concurrent/BackgroundInitializer.html" title="org.apache.commons.lang3.concurrent中的类">BackgroundInitializer</a>&lt;?&gt;&nbsp;init)</code>
<div class="block">Adds a new <code>BackgroundInitializer</code> to this object.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/commons/lang3/concurrent/MultiBackgroundInitializer.html#getTaskCount--">getTaskCount</a></span>()</code>
<div class="block">Returns the number of tasks needed for executing all child <code>BackgroundInitializer</code> objects in parallel.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>protected <a href="../../../../../org/apache/commons/lang3/concurrent/MultiBackgroundInitializer.MultiBackgroundInitializerResults.html" title="org.apache.commons.lang3.concurrent中的类">MultiBackgroundInitializer.MultiBackgroundInitializerResults</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/commons/lang3/concurrent/MultiBackgroundInitializer.html#initialize--">initialize</a></span>()</code>
<div class="block">Creates the results object.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.apache.commons.lang3.concurrent.BackgroundInitializer">
<!--   -->
</a>
<h3>从类继承的方法&nbsp;org.apache.commons.lang3.concurrent.<a href="../../../../../org/apache/commons/lang3/concurrent/BackgroundInitializer.html" title="org.apache.commons.lang3.concurrent中的类">BackgroundInitializer</a></h3>
<code><a href="../../../../../org/apache/commons/lang3/concurrent/BackgroundInitializer.html#get--">get</a>, <a href="../../../../../org/apache/commons/lang3/concurrent/BackgroundInitializer.html#getActiveExecutor--">getActiveExecutor</a>, <a href="../../../../../org/apache/commons/lang3/concurrent/BackgroundInitializer.html#getExternalExecutor--">getExternalExecutor</a>, <a href="../../../../../org/apache/commons/lang3/concurrent/BackgroundInitializer.html#getFuture--">getFuture</a>, <a href="../../../../../org/apache/commons/lang3/concurrent/BackgroundInitializer.html#isStarted--">isStarted</a>, <a href="../../../../../org/apache/commons/lang3/concurrent/BackgroundInitializer.html#setExternalExecutor-java.util.concurrent.ExecutorService-">setExternalExecutor</a>, <a href="../../../../../org/apache/commons/lang3/concurrent/BackgroundInitializer.html#start--">start</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>从类继承的方法&nbsp;java.lang.<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="java.lang中的类或接口">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#clone--" title="java.lang中的类或接口">clone</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="java.lang中的类或接口">equals</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize--" title="java.lang中的类或接口">finalize</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass--" title="java.lang中的类或接口">getClass</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="java.lang中的类或接口">hashCode</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify--" title="java.lang中的类或接口">notify</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="java.lang中的类或接口">notifyAll</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString--" title="java.lang中的类或接口">toString</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait--" title="java.lang中的类或接口">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="java.lang中的类或接口">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="java.lang中的类或接口">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>构造器详细资料</h3>
<a name="MultiBackgroundInitializer--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MultiBackgroundInitializer</h4>
<pre>public&nbsp;MultiBackgroundInitializer()</pre>
<div class="block">Creates a new instance of <code>MultiBackgroundInitializer</code>.</div>
</li>
</ul>
<a name="MultiBackgroundInitializer-java.util.concurrent.ExecutorService-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>MultiBackgroundInitializer</h4>
<pre>public&nbsp;MultiBackgroundInitializer(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html?is-external=true" title="java.util.concurrent中的类或接口">ExecutorService</a>&nbsp;exec)</pre>
<div class="block">Creates a new instance of <code>MultiBackgroundInitializer</code> and
 initializes it with the given external <code>ExecutorService</code>.</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>exec</code> - the <code>ExecutorService</code> for executing the background
 tasks</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>方法详细资料</h3>
<a name="addInitializer-java.lang.String-org.apache.commons.lang3.concurrent.BackgroundInitializer-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addInitializer</h4>
<pre>public&nbsp;void&nbsp;addInitializer(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a>&nbsp;name,
                           <a href="../../../../../org/apache/commons/lang3/concurrent/BackgroundInitializer.html" title="org.apache.commons.lang3.concurrent中的类">BackgroundInitializer</a>&lt;?&gt;&nbsp;init)</pre>
<div class="block">Adds a new <code>BackgroundInitializer</code> to this object. When this
 <code>MultiBackgroundInitializer</code> is started, the given initializer will
 be processed. This method must not be called after <a href="../../../../../org/apache/commons/lang3/concurrent/BackgroundInitializer.html#start--"><code>BackgroundInitializer.start()</code></a> has
 been invoked.</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>name</code> - the name of the initializer (must not be <b>null</b>)</dd>
<dd><code>init</code> - the <code>BackgroundInitializer</code> to add (must not be
 <b>null</b>)</dd>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="java.lang中的类或接口">IllegalArgumentException</a></code> - if a required parameter is missing</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html?is-external=true" title="java.lang中的类或接口">IllegalStateException</a></code> - if <code>start()</code> has already been called</dd>
</dl>
</li>
</ul>
<a name="getTaskCount--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTaskCount</h4>
<pre>protected&nbsp;int&nbsp;getTaskCount()</pre>
<div class="block">Returns the number of tasks needed for executing all child <code>BackgroundInitializer</code> objects in parallel. This implementation sums up
 the required tasks for all child initializers (which is necessary if one
 of the child initializers is itself a <code>MultiBackgroundInitializer</code>
 ). Then it adds 1 for the control task that waits for the completion of
 the children.</div>
<dl>
<dt><span class="overrideSpecifyLabel">覆盖:</span></dt>
<dd><code><a href="../../../../../org/apache/commons/lang3/concurrent/BackgroundInitializer.html#getTaskCount--">getTaskCount</a></code>&nbsp;在类中&nbsp;<code><a href="../../../../../org/apache/commons/lang3/concurrent/BackgroundInitializer.html" title="org.apache.commons.lang3.concurrent中的类">BackgroundInitializer</a>&lt;<a href="../../../../../org/apache/commons/lang3/concurrent/MultiBackgroundInitializer.MultiBackgroundInitializerResults.html" title="org.apache.commons.lang3.concurrent中的类">MultiBackgroundInitializer.MultiBackgroundInitializerResults</a>&gt;</code></dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd>the number of tasks required for background processing</dd>
</dl>
</li>
</ul>
<a name="initialize--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>initialize</h4>
<pre>protected&nbsp;<a href="../../../../../org/apache/commons/lang3/concurrent/MultiBackgroundInitializer.MultiBackgroundInitializerResults.html" title="org.apache.commons.lang3.concurrent中的类">MultiBackgroundInitializer.MultiBackgroundInitializerResults</a>&nbsp;initialize()
                                                                           throws <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Exception.html?is-external=true" title="java.lang中的类或接口">Exception</a></pre>
<div class="block">Creates the results object. This implementation starts all child <code>BackgroundInitializer</code> objects. Then it collects their results and
 creates a <code>MultiBackgroundInitializerResults</code> object with this
 data. If a child initializer throws a checked exceptions, it is added to
 the results object. Unchecked exceptions are propagated.</div>
<dl>
<dt><span class="overrideSpecifyLabel">指定者:</span></dt>
<dd><code><a href="../../../../../org/apache/commons/lang3/concurrent/BackgroundInitializer.html#initialize--">initialize</a></code>&nbsp;在类中&nbsp;<code><a href="../../../../../org/apache/commons/lang3/concurrent/BackgroundInitializer.html" title="org.apache.commons.lang3.concurrent中的类">BackgroundInitializer</a>&lt;<a href="../../../../../org/apache/commons/lang3/concurrent/MultiBackgroundInitializer.MultiBackgroundInitializerResults.html" title="org.apache.commons.lang3.concurrent中的类">MultiBackgroundInitializer.MultiBackgroundInitializerResults</a>&gt;</code></dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd>the results object</dd>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Exception.html?is-external=true" title="java.lang中的类或接口">Exception</a></code> - if an error occurs</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
</body>
</html>
