<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="zh">
<head>
<!-- Generated by javadoc (1.8.0_112) on Sat Sep 01 15:31:18 CST 2018 -->
<title>ReplayingDecoder</title>
<meta name="date" content="2018-09-01">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="ReplayingDecoder";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10};
var tabs = {65535:["t0","所有方法"],2:["t2","实例方法"],8:["t4","具体方法"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>您的浏览器已禁用 JavaScript。</div>
</noscript>
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">io.netty.handler.codec</div>
<h2 title="类 ReplayingDecoder" class="title">类 ReplayingDecoder&lt;S&gt;</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="java.lang中的类或接口">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../../io/netty/channel/ChannelHandlerAdapter.html" title="io.netty.channel中的类">io.netty.channel.ChannelHandlerAdapter</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../../io/netty/channel/ChannelInboundHandlerAdapter.html" title="io.netty.channel中的类">io.netty.channel.ChannelInboundHandlerAdapter</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../../io/netty/handler/codec/ByteToMessageDecoder.html" title="io.netty.handler.codec中的类">io.netty.handler.codec.ByteToMessageDecoder</a></li>
<li>
<ul class="inheritance">
<li>io.netty.handler.codec.ReplayingDecoder&lt;S&gt;</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt><span class="paramLabel">类型参数:</span></dt>
<dd><code>S</code> - the state type which is usually an <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Enum.html?is-external=true" title="java.lang中的类或接口"><code>Enum</code></a>; use <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Void.html?is-external=true" title="java.lang中的类或接口"><code>Void</code></a> if state management is
        unused</dd>
</dl>
<dl>
<dt>所有已实现的接口:</dt>
<dd><a href="../../../../io/netty/channel/ChannelHandler.html" title="io.netty.channel中的接口">ChannelHandler</a>, <a href="../../../../io/netty/channel/ChannelInboundHandler.html" title="io.netty.channel中的接口">ChannelInboundHandler</a></dd>
</dl>
<dl>
<dt>直接已知子类:</dt>
<dd><a href="../../../../io/netty/handler/codec/marshalling/CompatibleMarshallingDecoder.html" title="io.netty.handler.codec.marshalling中的类">CompatibleMarshallingDecoder</a></dd>
</dl>
<hr>
<br>
<pre>public abstract class <span class="typeNameLabel">ReplayingDecoder&lt;S&gt;</span>
extends <a href="../../../../io/netty/handler/codec/ByteToMessageDecoder.html" title="io.netty.handler.codec中的类">ByteToMessageDecoder</a></pre>
<div class="block">A specialized variation of <a href="../../../../io/netty/handler/codec/ByteToMessageDecoder.html" title="io.netty.handler.codec中的类"><code>ByteToMessageDecoder</code></a> which enables implementation
 of a non-blocking decoder in the blocking I/O paradigm.
 <p>
 The biggest difference between <a href="../../../../io/netty/handler/codec/ReplayingDecoder.html" title="io.netty.handler.codec中的类"><code>ReplayingDecoder</code></a> and
 <a href="../../../../io/netty/handler/codec/ByteToMessageDecoder.html" title="io.netty.handler.codec中的类"><code>ByteToMessageDecoder</code></a> is that <a href="../../../../io/netty/handler/codec/ReplayingDecoder.html" title="io.netty.handler.codec中的类"><code>ReplayingDecoder</code></a> allows you to
 implement the <code>decode()</code> and <code>decodeLast()</code> methods just like
 all required bytes were received already, rather than checking the
 availability of the required bytes.  For example, the following
 <a href="../../../../io/netty/handler/codec/ByteToMessageDecoder.html" title="io.netty.handler.codec中的类"><code>ByteToMessageDecoder</code></a> implementation:
 <pre>
 public class IntegerHeaderFrameDecoder extends <a href="../../../../io/netty/handler/codec/ByteToMessageDecoder.html" title="io.netty.handler.codec中的类"><code>ByteToMessageDecoder</code></a> {

   <code> @Override</code>
   protected void decode(<a href="../../../../io/netty/channel/ChannelHandlerContext.html" title="io.netty.channel中的接口"><code>ChannelHandlerContext</code></a> ctx,
                           <a href="../../../../io/netty/buffer/ByteBuf.html" title="io.netty.buffer中的类"><code>ByteBuf</code></a> buf, List&lt;Object&gt; out) throws Exception {

     if (buf.readableBytes() &lt; 4) {
        return;
     }

     buf.markReaderIndex();
     int length = buf.readInt();

     if (buf.readableBytes() &lt; length) {
        buf.resetReaderIndex();
        return;
     }

     out.add(buf.readBytes(length));
   }
 }
 </pre>
 is simplified like the following with <a href="../../../../io/netty/handler/codec/ReplayingDecoder.html" title="io.netty.handler.codec中的类"><code>ReplayingDecoder</code></a>:
 <pre>
 public class IntegerHeaderFrameDecoder
      extends <a href="../../../../io/netty/handler/codec/ReplayingDecoder.html" title="io.netty.handler.codec中的类"><code>ReplayingDecoder</code></a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Void.html?is-external=true" title="java.lang中的类或接口"><code>Void</code></a>&gt; {

   protected void decode(<a href="../../../../io/netty/channel/ChannelHandlerContext.html" title="io.netty.channel中的接口"><code>ChannelHandlerContext</code></a> ctx,
                           <a href="../../../../io/netty/buffer/ByteBuf.html" title="io.netty.buffer中的类"><code>ByteBuf</code></a> buf) throws Exception {

     out.add(buf.readBytes(buf.readInt()));
   }
 }
 </pre>

 <h3>How does this work?</h3>
 <p>
 <a href="../../../../io/netty/handler/codec/ReplayingDecoder.html" title="io.netty.handler.codec中的类"><code>ReplayingDecoder</code></a> passes a specialized <a href="../../../../io/netty/buffer/ByteBuf.html" title="io.netty.buffer中的类"><code>ByteBuf</code></a>
 implementation which throws an <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Error.html?is-external=true" title="java.lang中的类或接口"><code>Error</code></a> of certain type when there's not
 enough data in the buffer.  In the <code>IntegerHeaderFrameDecoder</code> above,
 you just assumed that there will be 4 or more bytes in the buffer when
 you call <code>buf.readInt()</code>.  If there's really 4 bytes in the buffer,
 it will return the integer header as you expected.  Otherwise, the
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Error.html?is-external=true" title="java.lang中的类或接口"><code>Error</code></a> will be raised and the control will be returned to
 <a href="../../../../io/netty/handler/codec/ReplayingDecoder.html" title="io.netty.handler.codec中的类"><code>ReplayingDecoder</code></a>.  If <a href="../../../../io/netty/handler/codec/ReplayingDecoder.html" title="io.netty.handler.codec中的类"><code>ReplayingDecoder</code></a> catches the
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Error.html?is-external=true" title="java.lang中的类或接口"><code>Error</code></a>, then it will rewind the <code>readerIndex</code> of the buffer
 back to the 'initial' position (i.e. the beginning of the buffer) and call
 the <code>decode(..)</code> method again when more data is received into the
 buffer.
 <p>
 Please note that <a href="../../../../io/netty/handler/codec/ReplayingDecoder.html" title="io.netty.handler.codec中的类"><code>ReplayingDecoder</code></a> always throws the same cached
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Error.html?is-external=true" title="java.lang中的类或接口"><code>Error</code></a> instance to avoid the overhead of creating a new <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Error.html?is-external=true" title="java.lang中的类或接口"><code>Error</code></a>
 and filling its stack trace for every throw.

 <h3>Limitations</h3>
 <p>
 At the cost of the simplicity, <a href="../../../../io/netty/handler/codec/ReplayingDecoder.html" title="io.netty.handler.codec中的类"><code>ReplayingDecoder</code></a> enforces you a few
 limitations:
 <ul>
 <li>Some buffer operations are prohibited.</li>
 <li>Performance can be worse if the network is slow and the message
     format is complicated unlike the example above.  In this case, your
     decoder might have to decode the same part of the message over and over
     again.</li>
 <li>You must keep in mind that <code>decode(..)</code> method can be called many
     times to decode a single message.  For example, the following code will
     not work:
 <pre> public class MyDecoder extends <a href="../../../../io/netty/handler/codec/ReplayingDecoder.html" title="io.netty.handler.codec中的类"><code>ReplayingDecoder</code></a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Void.html?is-external=true" title="java.lang中的类或接口"><code>Void</code></a>&gt; {

   private final Queue&lt;Integer&gt; values = new LinkedList&lt;Integer&gt;();

   <code> @Override</code>
   public void decode(.., <a href="../../../../io/netty/buffer/ByteBuf.html" title="io.netty.buffer中的类"><code>ByteBuf</code></a> buf, List&lt;Object&gt; out) throws Exception {

     // A message contains 2 integers.
     values.offer(buf.readInt());
     values.offer(buf.readInt());

     // This assertion will fail intermittently since values.offer()
     // can be called more than two times!
     assert values.size() == 2;
     out.add(values.poll() + values.poll());
   }
 }</pre>
      The correct implementation looks like the following, and you can also
      utilize the 'checkpoint' feature which is explained in detail in the
      next section.
 <pre> public class MyDecoder extends <a href="../../../../io/netty/handler/codec/ReplayingDecoder.html" title="io.netty.handler.codec中的类"><code>ReplayingDecoder</code></a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Void.html?is-external=true" title="java.lang中的类或接口"><code>Void</code></a>&gt; {

   private final Queue&lt;Integer&gt; values = new LinkedList&lt;Integer&gt;();

   <code> @Override</code>
   public void decode(.., <a href="../../../../io/netty/buffer/ByteBuf.html" title="io.netty.buffer中的类"><code>ByteBuf</code></a> buf, List&lt;Object&gt; out) throws Exception {

     // Revert the state of the variable that might have been changed
     // since the last partial decode.
     values.clear();

     // A message contains 2 integers.
     values.offer(buf.readInt());
     values.offer(buf.readInt());

     // Now we know this assertion will never fail.
     assert values.size() == 2;
     out.add(values.poll() + values.poll());
   }
 }</pre>
     </li>
 </ul>

 <h3>Improving the performance</h3>
 <p>
 Fortunately, the performance of a complex decoder implementation can be
 improved significantly with the <code>checkpoint()</code> method.  The
 <code>checkpoint()</code> method updates the 'initial' position of the buffer so
 that <a href="../../../../io/netty/handler/codec/ReplayingDecoder.html" title="io.netty.handler.codec中的类"><code>ReplayingDecoder</code></a> rewinds the <code>readerIndex</code> of the buffer
 to the last position where you called the <code>checkpoint()</code> method.

 <h4>Calling <code>checkpoint(T)</code> with an <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Enum.html?is-external=true" title="java.lang中的类或接口"><code>Enum</code></a></h4>
 <p>
 Although you can just use <code>checkpoint()</code> method and manage the state
 of the decoder by yourself, the easiest way to manage the state of the
 decoder is to create an <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Enum.html?is-external=true" title="java.lang中的类或接口"><code>Enum</code></a> type which represents the current state
 of the decoder and to call <code>checkpoint(T)</code> method whenever the state
 changes.  You can have as many states as you want depending on the
 complexity of the message you want to decode:

 <pre>
 public enum MyDecoderState {
   READ_LENGTH,
   READ_CONTENT;
 }

 public class IntegerHeaderFrameDecoder
      extends <a href="../../../../io/netty/handler/codec/ReplayingDecoder.html" title="io.netty.handler.codec中的类"><code>ReplayingDecoder</code></a>&lt;<strong>MyDecoderState</strong>&gt; {

   private int length;

   public IntegerHeaderFrameDecoder() {
     // Set the initial state.
     <strong>super(MyDecoderState.READ_LENGTH);</strong>
   }

   <code> @Override</code>
   protected void decode(<a href="../../../../io/netty/channel/ChannelHandlerContext.html" title="io.netty.channel中的接口"><code>ChannelHandlerContext</code></a> ctx,
                           <a href="../../../../io/netty/buffer/ByteBuf.html" title="io.netty.buffer中的类"><code>ByteBuf</code></a> buf, List&lt;Object&gt; out) throws Exception {
     switch (state()) {
     case READ_LENGTH:
       length = buf.readInt();
       <strong>checkpoint(MyDecoderState.READ_CONTENT);</strong>
     case READ_CONTENT:
       ByteBuf frame = buf.readBytes(length);
       <strong>checkpoint(MyDecoderState.READ_LENGTH);</strong>
       out.add(frame);
       break;
     default:
       throw new Error("Shouldn't reach here.");
     }
   }
 }
 </pre>

 <h4>Calling <code>checkpoint()</code> with no parameter</h4>
 <p>
 An alternative way to manage the decoder state is to manage it by yourself.
 <pre>
 public class IntegerHeaderFrameDecoder
      extends <a href="../../../../io/netty/handler/codec/ReplayingDecoder.html" title="io.netty.handler.codec中的类"><code>ReplayingDecoder</code></a>&lt;<strong><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Void.html?is-external=true" title="java.lang中的类或接口"><code>Void</code></a></strong>&gt; {

   <strong>private boolean readLength;</strong>
   private int length;

   <code> @Override</code>
   protected void decode(<a href="../../../../io/netty/channel/ChannelHandlerContext.html" title="io.netty.channel中的接口"><code>ChannelHandlerContext</code></a> ctx,
                           <a href="../../../../io/netty/buffer/ByteBuf.html" title="io.netty.buffer中的类"><code>ByteBuf</code></a> buf, List&lt;Object&gt; out) throws Exception {
     if (!readLength) {
       length = buf.readInt();
       <strong>readLength = true;</strong>
       <strong>checkpoint();</strong>
     }

     if (readLength) {
       ByteBuf frame = buf.readBytes(length);
       <strong>readLength = false;</strong>
       <strong>checkpoint();</strong>
       out.add(frame);
     }
   }
 }
 </pre>

 <h3>Replacing a decoder with another decoder in a pipeline</h3>
 <p>
 If you are going to write a protocol multiplexer, you will probably want to
 replace a <a href="../../../../io/netty/handler/codec/ReplayingDecoder.html" title="io.netty.handler.codec中的类"><code>ReplayingDecoder</code></a> (protocol detector) with another
 <a href="../../../../io/netty/handler/codec/ReplayingDecoder.html" title="io.netty.handler.codec中的类"><code>ReplayingDecoder</code></a>, <a href="../../../../io/netty/handler/codec/ByteToMessageDecoder.html" title="io.netty.handler.codec中的类"><code>ByteToMessageDecoder</code></a> or <a href="../../../../io/netty/handler/codec/MessageToMessageDecoder.html" title="io.netty.handler.codec中的类"><code>MessageToMessageDecoder</code></a>
 (actual protocol decoder).
 It is not possible to achieve this simply by calling
 <a href="../../../../io/netty/channel/ChannelPipeline.html#replace-io.netty.channel.ChannelHandler-java.lang.String-io.netty.channel.ChannelHandler-"><code>ChannelPipeline.replace(ChannelHandler, String, ChannelHandler)</code></a>, but
 some additional steps are required:
 <pre>
 public class FirstDecoder extends <a href="../../../../io/netty/handler/codec/ReplayingDecoder.html" title="io.netty.handler.codec中的类"><code>ReplayingDecoder</code></a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Void.html?is-external=true" title="java.lang中的类或接口"><code>Void</code></a>&gt; {

     <code> @Override</code>
     protected void decode(<a href="../../../../io/netty/channel/ChannelHandlerContext.html" title="io.netty.channel中的接口"><code>ChannelHandlerContext</code></a> ctx,
                             <a href="../../../../io/netty/buffer/ByteBuf.html" title="io.netty.buffer中的类"><code>ByteBuf</code></a> buf, List&lt;Object&gt; out) {
         ...
         // Decode the first message
         Object firstMessage = ...;

         // Add the second decoder
         ctx.pipeline().addLast("second", new SecondDecoder());

         if (buf.isReadable()) {
             // Hand off the remaining data to the second decoder
             out.add(firstMessage);
             out.add(buf.readBytes(<b>super.actualReadableBytes()</b>));
         } else {
             // Nothing to hand off
             out.add(firstMessage);
         }
         // Remove the first decoder (me)
         ctx.pipeline().remove(this);
     }
 </pre></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>嵌套类概要</h3>
<ul class="blockList">
<li class="blockList"><a name="nested.classes.inherited.from.class.io.netty.handler.codec.ByteToMessageDecoder">
<!--   -->
</a>
<h3>从类继承的嵌套类/接口&nbsp;io.netty.handler.codec.<a href="../../../../io/netty/handler/codec/ByteToMessageDecoder.html" title="io.netty.handler.codec中的类">ByteToMessageDecoder</a></h3>
<code><a href="../../../../io/netty/handler/codec/ByteToMessageDecoder.Cumulator.html" title="io.netty.handler.codec中的接口">ByteToMessageDecoder.Cumulator</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="nested.classes.inherited.from.class.io.netty.channel.ChannelHandler">
<!--   -->
</a>
<h3>从接口继承的嵌套类/接口&nbsp;io.netty.channel.<a href="../../../../io/netty/channel/ChannelHandler.html" title="io.netty.channel中的接口">ChannelHandler</a></h3>
<code><a href="../../../../io/netty/channel/ChannelHandler.Sharable.html" title="io.netty.channel中的注释">ChannelHandler.Sharable</a></code></li>
</ul>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>字段概要</h3>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.io.netty.handler.codec.ByteToMessageDecoder">
<!--   -->
</a>
<h3>从类继承的字段&nbsp;io.netty.handler.codec.<a href="../../../../io/netty/handler/codec/ByteToMessageDecoder.html" title="io.netty.handler.codec中的类">ByteToMessageDecoder</a></h3>
<code><a href="../../../../io/netty/handler/codec/ByteToMessageDecoder.html#COMPOSITE_CUMULATOR">COMPOSITE_CUMULATOR</a>, <a href="../../../../io/netty/handler/codec/ByteToMessageDecoder.html#MERGE_CUMULATOR">MERGE_CUMULATOR</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>构造器概要</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="构造器概要表, 列表构造器和解释">
<caption><span>构造器</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">限定符</th>
<th class="colLast" scope="col">构造器和说明</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected </code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/netty/handler/codec/ReplayingDecoder.html#ReplayingDecoder--">ReplayingDecoder</a></span>()</code>
<div class="block">Creates a new instance with no initial state (i.e: <code>null</code>).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected </code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/netty/handler/codec/ReplayingDecoder.html#ReplayingDecoder-S-">ReplayingDecoder</a></span>(<a href="../../../../io/netty/handler/codec/ReplayingDecoder.html" title="ReplayingDecoder中的类型参数">S</a>&nbsp;initialState)</code>
<div class="block">Creates a new instance with the specified initial state.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>方法概要</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="方法概要表, 列表方法和解释">
<caption><span id="t0" class="activeTableTab"><span>所有方法</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">实例方法</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">具体方法</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">限定符和类型</th>
<th class="colLast" scope="col">方法和说明</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/netty/handler/codec/ReplayingDecoder.html#callDecode-io.netty.channel.ChannelHandlerContext-io.netty.buffer.ByteBuf-java.util.List-">callDecode</a></span>(<a href="../../../../io/netty/channel/ChannelHandlerContext.html" title="io.netty.channel中的接口">ChannelHandlerContext</a>&nbsp;ctx,
          <a href="../../../../io/netty/buffer/ByteBuf.html" title="io.netty.buffer中的类">ByteBuf</a>&nbsp;in,
          <a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="java.util中的类或接口">List</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="java.lang中的类或接口">Object</a>&gt;&nbsp;out)</code>
<div class="block">Called once data should be decoded from the given <a href="../../../../io/netty/buffer/ByteBuf.html" title="io.netty.buffer中的类"><code>ByteBuf</code></a>.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/netty/handler/codec/ReplayingDecoder.html#checkpoint--">checkpoint</a></span>()</code>
<div class="block">Stores the internal cumulative buffer's reader position.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/netty/handler/codec/ReplayingDecoder.html#checkpoint-S-">checkpoint</a></span>(<a href="../../../../io/netty/handler/codec/ReplayingDecoder.html" title="ReplayingDecoder中的类型参数">S</a>&nbsp;state)</code>
<div class="block">Stores the internal cumulative buffer's reader position and updates
 the current decoder state.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../io/netty/handler/codec/ReplayingDecoder.html" title="ReplayingDecoder中的类型参数">S</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/netty/handler/codec/ReplayingDecoder.html#state--">state</a></span>()</code>
<div class="block">Returns the current state of this decoder.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>protected <a href="../../../../io/netty/handler/codec/ReplayingDecoder.html" title="ReplayingDecoder中的类型参数">S</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/netty/handler/codec/ReplayingDecoder.html#state-S-">state</a></span>(<a href="../../../../io/netty/handler/codec/ReplayingDecoder.html" title="ReplayingDecoder中的类型参数">S</a>&nbsp;newState)</code>
<div class="block">Sets the current state of this decoder.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.io.netty.handler.codec.ByteToMessageDecoder">
<!--   -->
</a>
<h3>从类继承的方法&nbsp;io.netty.handler.codec.<a href="../../../../io/netty/handler/codec/ByteToMessageDecoder.html" title="io.netty.handler.codec中的类">ByteToMessageDecoder</a></h3>
<code><a href="../../../../io/netty/handler/codec/ByteToMessageDecoder.html#actualReadableBytes--">actualReadableBytes</a>, <a href="../../../../io/netty/handler/codec/ByteToMessageDecoder.html#channelInactive-io.netty.channel.ChannelHandlerContext-">channelInactive</a>, <a href="../../../../io/netty/handler/codec/ByteToMessageDecoder.html#channelRead-io.netty.channel.ChannelHandlerContext-java.lang.Object-">channelRead</a>, <a href="../../../../io/netty/handler/codec/ByteToMessageDecoder.html#channelReadComplete-io.netty.channel.ChannelHandlerContext-">channelReadComplete</a>, <a href="../../../../io/netty/handler/codec/ByteToMessageDecoder.html#decode-io.netty.channel.ChannelHandlerContext-io.netty.buffer.ByteBuf-java.util.List-">decode</a>, <a href="../../../../io/netty/handler/codec/ByteToMessageDecoder.html#decodeLast-io.netty.channel.ChannelHandlerContext-io.netty.buffer.ByteBuf-java.util.List-">decodeLast</a>, <a href="../../../../io/netty/handler/codec/ByteToMessageDecoder.html#discardSomeReadBytes--">discardSomeReadBytes</a>, <a href="../../../../io/netty/handler/codec/ByteToMessageDecoder.html#handlerRemoved-io.netty.channel.ChannelHandlerContext-">handlerRemoved</a>, <a href="../../../../io/netty/handler/codec/ByteToMessageDecoder.html#handlerRemoved0-io.netty.channel.ChannelHandlerContext-">handlerRemoved0</a>, <a href="../../../../io/netty/handler/codec/ByteToMessageDecoder.html#internalBuffer--">internalBuffer</a>, <a href="../../../../io/netty/handler/codec/ByteToMessageDecoder.html#isSingleDecode--">isSingleDecode</a>, <a href="../../../../io/netty/handler/codec/ByteToMessageDecoder.html#setCumulator-io.netty.handler.codec.ByteToMessageDecoder.Cumulator-">setCumulator</a>, <a href="../../../../io/netty/handler/codec/ByteToMessageDecoder.html#setDiscardAfterReads-int-">setDiscardAfterReads</a>, <a href="../../../../io/netty/handler/codec/ByteToMessageDecoder.html#setSingleDecode-boolean-">setSingleDecode</a>, <a href="../../../../io/netty/handler/codec/ByteToMessageDecoder.html#userEventTriggered-io.netty.channel.ChannelHandlerContext-java.lang.Object-">userEventTriggered</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.io.netty.channel.ChannelInboundHandlerAdapter">
<!--   -->
</a>
<h3>从类继承的方法&nbsp;io.netty.channel.<a href="../../../../io/netty/channel/ChannelInboundHandlerAdapter.html" title="io.netty.channel中的类">ChannelInboundHandlerAdapter</a></h3>
<code><a href="../../../../io/netty/channel/ChannelInboundHandlerAdapter.html#channelActive-io.netty.channel.ChannelHandlerContext-">channelActive</a>, <a href="../../../../io/netty/channel/ChannelInboundHandlerAdapter.html#channelRegistered-io.netty.channel.ChannelHandlerContext-">channelRegistered</a>, <a href="../../../../io/netty/channel/ChannelInboundHandlerAdapter.html#channelUnregistered-io.netty.channel.ChannelHandlerContext-">channelUnregistered</a>, <a href="../../../../io/netty/channel/ChannelInboundHandlerAdapter.html#channelWritabilityChanged-io.netty.channel.ChannelHandlerContext-">channelWritabilityChanged</a>, <a href="../../../../io/netty/channel/ChannelInboundHandlerAdapter.html#exceptionCaught-io.netty.channel.ChannelHandlerContext-java.lang.Throwable-">exceptionCaught</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.io.netty.channel.ChannelHandlerAdapter">
<!--   -->
</a>
<h3>从类继承的方法&nbsp;io.netty.channel.<a href="../../../../io/netty/channel/ChannelHandlerAdapter.html" title="io.netty.channel中的类">ChannelHandlerAdapter</a></h3>
<code><a href="../../../../io/netty/channel/ChannelHandlerAdapter.html#ensureNotSharable--">ensureNotSharable</a>, <a href="../../../../io/netty/channel/ChannelHandlerAdapter.html#handlerAdded-io.netty.channel.ChannelHandlerContext-">handlerAdded</a>, <a href="../../../../io/netty/channel/ChannelHandlerAdapter.html#isSharable--">isSharable</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>从类继承的方法&nbsp;java.lang.<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="java.lang中的类或接口">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#clone--" title="java.lang中的类或接口">clone</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="java.lang中的类或接口">equals</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize--" title="java.lang中的类或接口">finalize</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass--" title="java.lang中的类或接口">getClass</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="java.lang中的类或接口">hashCode</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify--" title="java.lang中的类或接口">notify</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="java.lang中的类或接口">notifyAll</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString--" title="java.lang中的类或接口">toString</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait--" title="java.lang中的类或接口">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="java.lang中的类或接口">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="java.lang中的类或接口">wait</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.io.netty.channel.ChannelHandler">
<!--   -->
</a>
<h3>从接口继承的方法&nbsp;io.netty.channel.<a href="../../../../io/netty/channel/ChannelHandler.html" title="io.netty.channel中的接口">ChannelHandler</a></h3>
<code><a href="../../../../io/netty/channel/ChannelHandler.html#handlerAdded-io.netty.channel.ChannelHandlerContext-">handlerAdded</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>构造器详细资料</h3>
<a name="ReplayingDecoder--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ReplayingDecoder</h4>
<pre>protected&nbsp;ReplayingDecoder()</pre>
<div class="block">Creates a new instance with no initial state (i.e: <code>null</code>).</div>
</li>
</ul>
<a name="ReplayingDecoder-java.lang.Object-">
<!--   -->
</a><a name="ReplayingDecoder-S-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ReplayingDecoder</h4>
<pre>protected&nbsp;ReplayingDecoder(<a href="../../../../io/netty/handler/codec/ReplayingDecoder.html" title="ReplayingDecoder中的类型参数">S</a>&nbsp;initialState)</pre>
<div class="block">Creates a new instance with the specified initial state.</div>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>方法详细资料</h3>
<a name="checkpoint--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkpoint</h4>
<pre>protected&nbsp;void&nbsp;checkpoint()</pre>
<div class="block">Stores the internal cumulative buffer's reader position.</div>
</li>
</ul>
<a name="checkpoint-java.lang.Object-">
<!--   -->
</a><a name="checkpoint-S-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkpoint</h4>
<pre>protected&nbsp;void&nbsp;checkpoint(<a href="../../../../io/netty/handler/codec/ReplayingDecoder.html" title="ReplayingDecoder中的类型参数">S</a>&nbsp;state)</pre>
<div class="block">Stores the internal cumulative buffer's reader position and updates
 the current decoder state.</div>
</li>
</ul>
<a name="state--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>state</h4>
<pre>protected&nbsp;<a href="../../../../io/netty/handler/codec/ReplayingDecoder.html" title="ReplayingDecoder中的类型参数">S</a>&nbsp;state()</pre>
<div class="block">Returns the current state of this decoder.</div>
<dl>
<dt><span class="returnLabel">返回:</span></dt>
<dd>the current state of this decoder</dd>
</dl>
</li>
</ul>
<a name="state-java.lang.Object-">
<!--   -->
</a><a name="state-S-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>state</h4>
<pre>protected&nbsp;<a href="../../../../io/netty/handler/codec/ReplayingDecoder.html" title="ReplayingDecoder中的类型参数">S</a>&nbsp;state(<a href="../../../../io/netty/handler/codec/ReplayingDecoder.html" title="ReplayingDecoder中的类型参数">S</a>&nbsp;newState)</pre>
<div class="block">Sets the current state of this decoder.</div>
<dl>
<dt><span class="returnLabel">返回:</span></dt>
<dd>the old state of this decoder</dd>
</dl>
</li>
</ul>
<a name="callDecode-io.netty.channel.ChannelHandlerContext-io.netty.buffer.ByteBuf-java.util.List-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>callDecode</h4>
<pre>protected&nbsp;void&nbsp;callDecode(<a href="../../../../io/netty/channel/ChannelHandlerContext.html" title="io.netty.channel中的接口">ChannelHandlerContext</a>&nbsp;ctx,
                          <a href="../../../../io/netty/buffer/ByteBuf.html" title="io.netty.buffer中的类">ByteBuf</a>&nbsp;in,
                          <a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="java.util中的类或接口">List</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="java.lang中的类或接口">Object</a>&gt;&nbsp;out)</pre>
<div class="block"><span class="descfrmTypeLabel">从类复制的说明:&nbsp;<code><a href="../../../../io/netty/handler/codec/ByteToMessageDecoder.html#callDecode-io.netty.channel.ChannelHandlerContext-io.netty.buffer.ByteBuf-java.util.List-">ByteToMessageDecoder</a></code></span></div>
<div class="block">Called once data should be decoded from the given <a href="../../../../io/netty/buffer/ByteBuf.html" title="io.netty.buffer中的类"><code>ByteBuf</code></a>. This method will call
 <a href="../../../../io/netty/handler/codec/ByteToMessageDecoder.html#decode-io.netty.channel.ChannelHandlerContext-io.netty.buffer.ByteBuf-java.util.List-"><code>ByteToMessageDecoder.decode(ChannelHandlerContext, ByteBuf, List)</code></a> as long as decoding should take place.</div>
<dl>
<dt><span class="overrideSpecifyLabel">覆盖:</span></dt>
<dd><code><a href="../../../../io/netty/handler/codec/ByteToMessageDecoder.html#callDecode-io.netty.channel.ChannelHandlerContext-io.netty.buffer.ByteBuf-java.util.List-">callDecode</a></code>&nbsp;在类中&nbsp;<code><a href="../../../../io/netty/handler/codec/ByteToMessageDecoder.html" title="io.netty.handler.codec中的类">ByteToMessageDecoder</a></code></dd>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>ctx</code> - the <a href="../../../../io/netty/channel/ChannelHandlerContext.html" title="io.netty.channel中的接口"><code>ChannelHandlerContext</code></a> which this <a href="../../../../io/netty/handler/codec/ByteToMessageDecoder.html" title="io.netty.handler.codec中的类"><code>ByteToMessageDecoder</code></a> belongs to</dd>
<dd><code>in</code> - the <a href="../../../../io/netty/buffer/ByteBuf.html" title="io.netty.buffer中的类"><code>ByteBuf</code></a> from which to read data</dd>
<dd><code>out</code> - the <a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="java.util中的类或接口"><code>List</code></a> to which decoded messages should be added</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
</body>
</html>
